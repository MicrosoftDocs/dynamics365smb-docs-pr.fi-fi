---
title: Töiden aikatauluttaminen automaattisesti suoritettavaksi | Microsoft Docs
description: Ajoitettuja tehtäviä hallitaan työjonon avulla. Näillä töillä suoritetaan raportteja ja codeuniteja. Voit määrittää töitä suoritettavaksi yhtä aikaa tai toistuvasti.
author: edupont04
ms.service: dynamics365-business-central
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: ''
ms.date: 09/09/2020
ms.author: edupont
ms.openlocfilehash: 6816ba11203e697ff833b9ea96aa85139fbcffe9
ms.sourcegitcommit: a80afd4e5075018716efad76d82a54e158f1392d
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 09/09/2020
ms.locfileid: "3783599"
---
# <a name="use-job-queues-to-schedule-tasks"></a><span data-ttu-id="2f998-105">Käytä työjonoja ajoitustehtäviin</span><span class="sxs-lookup"><span data-stu-id="2f998-105">Use Job Queues to Schedule Tasks</span></span>

<span data-ttu-id="2f998-106">[!INCLUDE[d365fin](includes/d365fin_md.md)]:n työjonojen avulla käyttäjät voivat ajoittaa ja suorittaa tiettyjä raportteja ja koodiyksiköitä.</span><span class="sxs-lookup"><span data-stu-id="2f998-106">Job queues in [!INCLUDE[d365fin](includes/d365fin_md.md)] enables users to schedule and run specific reports and codeunits.</span></span> <span data-ttu-id="2f998-107">Voit määrittää töitä suoritettavaksi yhtä aikaa tai toistuvasti.</span><span class="sxs-lookup"><span data-stu-id="2f998-107">You can set jobs to run one time, or on a recurring basis.</span></span> <span data-ttu-id="2f998-108">Voit esimerkiksi haluta suorittaa **Myyjän myyntitilasto** -raportin viikoittain ja seurata näin myyjäkohtaista viikkomyynti. Vaihtoehtoisesti voit suorittaa **Delegoi hyväksymispyynnöt** -codeunitin päivittäin, jolloin asiakirjoja ei kasaudu odottamaan käsittelyä tai estämään muutoin työnkulkua.</span><span class="sxs-lookup"><span data-stu-id="2f998-108">For example, you might want to run the **Salesperson \* Sales Statistics** report weekly, to track sales by salesperson each week, or you might want to run the **Delegate Approval Requests** codeunit daily, to prevent documents from piling up or otherwise block the workflow.</span></span>

<span data-ttu-id="2f998-109">**Työjonon tapahtumat** -sivulla on luettelo kaikista aiemmin luoduista töistä.</span><span class="sxs-lookup"><span data-stu-id="2f998-109">The **Job Queue Entries** page lists all existing jobs.</span></span> <span data-ttu-id="2f998-110">Jos lisäät uuden aikataulutettavan työjonotapahtuman tiedot, sinun on ilmoitettava minkä tyyppisen objektin, kuten raportin tai codeunitin, haluat suorittaa, sekä suoritettavan objektin nimen ja tunnuksen.</span><span class="sxs-lookup"><span data-stu-id="2f998-110">If you add a new job queue entry that you want to schedule, you must specify information about the type of object you want to run, such as a report or codeunit, and the name and object ID of the object that you want to run.</span></span> <span data-ttu-id="2f998-111">Voit myös lisätä parametrit, joilla määritetään työjonotapahtuman käytös.</span><span class="sxs-lookup"><span data-stu-id="2f998-111">You can also add parameters to specify the behavior of the job queue entry.</span></span> <span data-ttu-id="2f998-112">Voit esimerkiksi lisätä parametrin vain kirjattujen myyntitilausten lähettämistä varten.</span><span class="sxs-lookup"><span data-stu-id="2f998-112">For example, you can add a parameter to only send posted sales orders.</span></span> <span data-ttu-id="2f998-113">Sinulla tulee olla tietyn raportin tai koodiyksikön suoritusoikeus tai muutoin järjestelmä palauttaa virheen, kun työjonoa suoritetaan.</span><span class="sxs-lookup"><span data-stu-id="2f998-113">You must have permission to run the particular report or codeunit, or an error will be returned when the job queue is run.</span></span>  

<span data-ttu-id="2f998-114">Työjonossa voi olla useita tapahtumia, jotka ovat jonossa hallittavia ja suoritettavia töitä.</span><span class="sxs-lookup"><span data-stu-id="2f998-114">A job queue can have many entries, which are the jobs that the queue manages and runs.</span></span> <span data-ttu-id="2f998-115">Tapahtuman tiedot määrittävät, mikä koodiyksikkö tai raportti suoritetaan, milloin ja miten usein tapahtuma suoritetaan, missä luokassa työ suoritetaan ja miten se suoritetaan.</span><span class="sxs-lookup"><span data-stu-id="2f998-115">Information in the entry specifies what codeunit or report is run, when and how often the entry is run, in what category the job runs, and how it runs.</span></span>  

## <a name="to-set-up-background-posting-with-job-queues"></a><span data-ttu-id="2f998-116">Taustakirjauksen määrittäminen työjonojen avulla</span><span class="sxs-lookup"><span data-stu-id="2f998-116">To set up background posting with job queues</span></span>

<span data-ttu-id="2f998-117">Työjonot ovat tehokas työkalu taustalla suoritettavien liiketoimintaprosessien ajoittamiseen. Kyse voi olla esimerkiksi useista käyttäjistä, jotka yrittävät kirjata myyntitilauksia, kun vain yksi tilaus voidaan käsitellä kerralla.</span><span class="sxs-lookup"><span data-stu-id="2f998-117">Job queues are an effective tool to schedule the running of business processes in the background, such as when multiple users are trying to post sales orders, but only one order can be processed at a time.</span></span>  

<span data-ttu-id="2f998-118">Seuraavaksi käsitellään myyntitilausten taustakirjausta.</span><span class="sxs-lookup"><span data-stu-id="2f998-118">The following procedure explains how to set up background posting of sales orders.</span></span> <span data-ttu-id="2f998-119">Ostoa koskevat vaiheet ovat samanlaisia.</span><span class="sxs-lookup"><span data-stu-id="2f998-119">The steps are similar for purchasing.</span></span>  

1. <span data-ttu-id="2f998-120">Valitse ![Lamppu, joka avaa Kerro, mitä haluat tehdä -toiminnon](media/ui-search/search_small.png "Kerro, mitä haluat tehdä") kuvakkeen, syötä **Myyntien ja myyntisaamisten asetukset** ja valitse sitten liittyvä linkki.</span><span class="sxs-lookup"><span data-stu-id="2f998-120">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales & Receivables Setup**, and then choose the related link.</span></span>
2. <span data-ttu-id="2f998-121">Valitse **Myyntien ja myyntisaamisten asetukset** -sivulla **Kirjaa työjonolla** -valintaruutu.</span><span class="sxs-lookup"><span data-stu-id="2f998-121">On the **Sales & Receivables Setup** page, choose the **Post with Job Queue** check box.</span></span>
3. <span data-ttu-id="2f998-122">Valitse **Työjonokategorian koodi** -kenttä ja määritä sitten **MKIRJAUS** -koodi.</span><span class="sxs-lookup"><span data-stu-id="2f998-122">Choose the **Job Queue Category Code** field, and then specify the **SALESPOST** code.</span></span>

    > [!NOTE]
    > <span data-ttu-id="2f998-123">Jotkin työt muuttavat samoja tietoja, eikä niitä tulisi käyttää samaan aikaan, koska ne voivat aiheuttaa ristiriitoja.</span><span class="sxs-lookup"><span data-stu-id="2f998-123">Some jobs change the same data and should not run at the same time because that can cause conflicts.</span></span> <span data-ttu-id="2f998-124">Esimerkiksi myyntiasiakirjojen taustatyöt yrittävät muokata samoja tietoja samaan aikaan.</span><span class="sxs-lookup"><span data-stu-id="2f998-124">For example, background jobs for sales documents will try to modify the same data at the same time.</span></span> <span data-ttu-id="2f998-125">Työjonoluokat auttavat estämään tällaisia ristiriitoja varmistamalla, että kun yksi työ on käynnissä, samaan työjonoluokkaan kuuluvaa työtä ei suoriteta ennen kuin suoritettava työ on valmis.</span><span class="sxs-lookup"><span data-stu-id="2f998-125">Job queue categories help prevent these kinds of conflicts by ensuring that when one job is running, another job that belongs to the same job queue category will not run until it finishes.</span></span> <span data-ttu-id="2f998-126">Esimerkiksi projekti, joka kuuluu myyntityöjonoluokkaan, odottaa, kunnes kaikki muut myyntiin liittyvät työt on tehty.</span><span class="sxs-lookup"><span data-stu-id="2f998-126">For example, a job that belongs to a Sales job queue category will wait until all other sales related jobs are done.</span></span> <span data-ttu-id="2f998-127">Voit määrittää työjonoluokan **Taustakirjaus**-pikavälilehdellä **Myynnin ja saatavien asetukset** -sivulla.</span><span class="sxs-lookup"><span data-stu-id="2f998-127">You specify a job queue category on the **Background Posting** FastTab on the **Sales & Receivables Setup** page.</span></span>
    >
    > [!INCLUDE[d365fin](includes/d365fin_md.md)] <span data-ttu-id="2f998-128">tarjoaa työjonoluokkia myyntejä, ostoja ja pääkirjanpidon kirjauksia varten.</span><span class="sxs-lookup"><span data-stu-id="2f998-128">provides job queue categories for sales, purchase, and general ledger posting.</span></span> <span data-ttu-id="2f998-129">On suositeltavaa, että jokin näistä tai luomasi on aina määritetty.</span><span class="sxs-lookup"><span data-stu-id="2f998-129">We recommend that one of these, or one that you create, is always specified.</span></span> <span data-ttu-id="2f998-130">Jos kohtaat ristiriidoista johtuvia virhetilanteita, harkitse luokan määrittämistä myynnin, oston ja pääkirjanpidon taustakirjausta varten.</span><span class="sxs-lookup"><span data-stu-id="2f998-130">If you experience failures due to conflicts, consider setting up a category for all sales, purchase, and general ledger background posting.</span></span>

    <span data-ttu-id="2f998-131">Jos haluat myös tulostaa kirjattavat myyntiasiakirjat, valitse **Kirjaa ja tulosta työjonolla** -valintaruutu **Myyntien ja myyntisaamisten asetukset** -sivulla.</span><span class="sxs-lookup"><span data-stu-id="2f998-131">If you also want sales documents to be printed when they are posted, select the **Post & Print with Job Queue** check box on the **Sales & Receivables Setup** page.</span></span>  

    > [!IMPORTANT]  
    > <span data-ttu-id="2f998-132">Jos määrität asiakirjat kirjaavan ja tulostavan työn ja tulostimessa avautuu valintaikkuna, kuten tunnistetietojen pyyntö tai tulostimen musteen loppumisesta ilmoittava varoitus, asiakirja kirjataan mutta sitä ei tulosteta.</span><span class="sxs-lookup"><span data-stu-id="2f998-132">If you set up a job that will post and print documents, and the printer displays a dialog box, such as a request for credentials or a warning about low printer ink, your document is posted but not printed.</span></span> <span data-ttu-id="2f998-133">Vastaava työjonotapahtuma aikakatkaistaan lopulta, ja **Tila**-kentän arvoksi määritetään **Virhe**.</span><span class="sxs-lookup"><span data-stu-id="2f998-133">The corresponding job queue entry eventually times out and the **Status** field is set to **Error**.</span></span> <span data-ttu-id="2f998-134">Näin ollen suosittelemme, että et käytä tulostimen asetuksia, jotka edellyttävät vuorovaikutusta tulostimen näytön valintaruutujen kanssa taustakirjausten yhteydessä.</span><span class="sxs-lookup"><span data-stu-id="2f998-134">Accordingly, we recommend that you do not use a printer setup that requires interaction with the display of printer dialog boxes in conjunction with background posting.</span></span>

    <span data-ttu-id="2f998-135">Kun kirjaat myyntiasiakirjoja seuraavan kerran, [!INCLUDE [prodshort](includes/prodshort.md)] luo automaattisesti työjonotapahtuman kullekin asiakirjalle ja suorittaa työt taustalla yksi kerrallaan.</span><span class="sxs-lookup"><span data-stu-id="2f998-135">Next time that you post sales documents, [!INCLUDE [prodshort](includes/prodshort.md)] automatically creates a job queue entry for each document and run the jobs in the background, one by one.</span></span>

4. <span data-ttu-id="2f998-136">Varmistaaksesi, että työjono toimii odotetulla tavalla, kirjaa myyntitilaus.</span><span class="sxs-lookup"><span data-stu-id="2f998-136">To verify that the job queue is working as expected, post a sales order.</span></span> <span data-ttu-id="2f998-137">Lisätietoja on kohdassa [Tuotteiden myyminen](sales-how-sell-products.md).</span><span class="sxs-lookup"><span data-stu-id="2f998-137">For more information, see [Sell Products](sales-how-sell-products.md).</span></span>

5. <span data-ttu-id="2f998-138">Tarkista **Työjonon lokitapahtumat** -sivulta, onnistuiko myyntitilauksen kirjaus.</span><span class="sxs-lookup"><span data-stu-id="2f998-138">Review on the **Job Queue Log Entries** page if the sales order was posted successfully.</span></span> <span data-ttu-id="2f998-139">Lisätietoja on kohdassa [Työjonon tilan tai virheiden tarkasteleminen](admin-job-queues-schedule-tasks.md#to-view-status-or-errors-in-the-job-queue).</span><span class="sxs-lookup"><span data-stu-id="2f998-139">For more information, see [To view status or errors in the job queue](admin-job-queues-schedule-tasks.md#to-view-status-or-errors-in-the-job-queue).</span></span>

## <a name="to-create-a-job-queue-entry-for-batch-posting-of-sales-orders"></a><span data-ttu-id="2f998-140">Työjonotapahtuman luonti myyntitilausten eräkirjausta varten</span><span class="sxs-lookup"><span data-stu-id="2f998-140">To create a job queue entry for batch posting of sales orders</span></span>

<span data-ttu-id="2f998-141">Vaihtoehtoisesti voit lykätä kirjaukset organisaatiolle parhaiten sopivaan ajankohtaan.</span><span class="sxs-lookup"><span data-stu-id="2f998-141">Alternatively, you can postpone postings for when it is convenient for your organization.</span></span> <span data-ttu-id="2f998-142">Yrityksessä saattaa olla esimerkiksi hyödyllistä suorittaa tietyt toiminnot sen jälkeen, kun suurin osa päivän tiedoista on syötetty.</span><span class="sxs-lookup"><span data-stu-id="2f998-142">For example, in your business it might make sense to run certain routines when most of the data entry for the day has concluded.</span></span> <span data-ttu-id="2f998-143">Tämä on mahdollista, kun määrität työjonon ajamaan useita eräkirjausraportteja, kuten **Eräkirjaa myyntitilaukset**- ja **Eräkirjaa ostotilaukset** -raportit sekä vastaavat raportit.</span><span class="sxs-lookup"><span data-stu-id="2f998-143">You can achieve this by setting the job queue up to run various batch-posting reports, such as the **Batch Post Sales Orders**, **Batch Post Sales Invoices**, and similar reports.</span></span> [!INCLUDE[d365fin](includes/d365fin_md.md)] <span data-ttu-id="2f998-144">tukee kaikkien myynti-, osto- ja huoltoasiakirjojen taustakirjausta.</span><span class="sxs-lookup"><span data-stu-id="2f998-144">supports background posting for all sales, purchasing, and service documents.</span></span>

<span data-ttu-id="2f998-145">Seuraavaksi selitetään, miten **Eräkirjaa myyntitilaukset** -raportti määritetään kirjaamaan myyntitilaukset automaattisesti arkipäivisin kello 16.</span><span class="sxs-lookup"><span data-stu-id="2f998-145">The following procedure shows how to set the **Batch Post Sales Orders** report up to automatically post sales orders at 4 PM on week days.</span></span>  

1. <span data-ttu-id="2f998-146">Valitse ![Lamppu, joka avaa Kerro, mitä haluat tehdä -toiminnon](media/ui-search/search_small.png "Kerro, mitä haluat tehdä") kuvakkeen, syötä **Työjonotapahtumat** ja valitse sitten liittyvä linkki.</span><span class="sxs-lookup"><span data-stu-id="2f998-146">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Job Queue Entries**, and then choose the related link.</span></span>  
2. <span data-ttu-id="2f998-147">Valitse **Uusi**-toiminto.</span><span class="sxs-lookup"><span data-stu-id="2f998-147">Choose the **New** action.</span></span>  
3. <span data-ttu-id="2f998-148">Valitse **Suoritettavan objektin tyyppi** -kentässä **Raportti**.</span><span class="sxs-lookup"><span data-stu-id="2f998-148">In the **Object Type to Run** field, select **Report**.</span></span>  
4. <span data-ttu-id="2f998-149">Valitse **Suoritettavan objektin tunnus** -kentässä 296, **Eräkirjaa myyntitilaukset**.</span><span class="sxs-lookup"><span data-stu-id="2f998-149">In the **Object ID to Run** field, select 296, **Batch Post Sales Orders**.</span></span>

   <span data-ttu-id="2f998-150">Käytössä on myös seuraavat raportit:</span><span class="sxs-lookup"><span data-stu-id="2f998-150">You can also use following reports:</span></span>
  
   * <span data-ttu-id="2f998-151">900 **Eräkirjaa kokoonpanotilaukset**</span><span class="sxs-lookup"><span data-stu-id="2f998-151">900 **Batch Post Assembly Orders**</span></span>
   * <span data-ttu-id="2f998-152">497 **Eräkirjaa ostolaskut**</span><span class="sxs-lookup"><span data-stu-id="2f998-152">497 **Batch Post Purchase Invoices**</span></span>
   * <span data-ttu-id="2f998-153">496 **Eräkirjaa ostotilaukset**</span><span class="sxs-lookup"><span data-stu-id="2f998-153">496 **Batch Post Purchase Orders**</span></span>
   * <span data-ttu-id="2f998-154">498 **Eräkirjaa ostohyvityslaskut**</span><span class="sxs-lookup"><span data-stu-id="2f998-154">498 **Batch Post Purch. Credit Memos**</span></span>
   * <span data-ttu-id="2f998-155">6665 **Eräkirjaa ostopal.tilaukset**</span><span class="sxs-lookup"><span data-stu-id="2f998-155">6665 **Batch Post Purch. Ret. Orders**</span></span>
   * <span data-ttu-id="2f998-156">298 **Eräkirjaa myyntihyvityslaskut**</span><span class="sxs-lookup"><span data-stu-id="2f998-156">298 **Batch Post Sales Credit Memos**</span></span>
   * <span data-ttu-id="2f998-157">297 **Eräkirjaa myyntilaskut**</span><span class="sxs-lookup"><span data-stu-id="2f998-157">297 **Batch Post Sales Invoices**</span></span>
   * <span data-ttu-id="2f998-158">296 **Eräkirjaa myyntitilaukset**</span><span class="sxs-lookup"><span data-stu-id="2f998-158">296 **Batch Post Sales Orders**</span></span>
   * <span data-ttu-id="2f998-159">6655 **Eräkirjaa myyntipal.tilaukset**</span><span class="sxs-lookup"><span data-stu-id="2f998-159">6655 **Batch Post Sales Return Orders**</span></span>
   * <span data-ttu-id="2f998-160">6005 **Eräkirjaa huollon hyvityslaskut**</span><span class="sxs-lookup"><span data-stu-id="2f998-160">6005 **Batch Post Service Cr. Memos**</span></span>
   * <span data-ttu-id="2f998-161">6004 **Eräkirjaa huoltolaskut**</span><span class="sxs-lookup"><span data-stu-id="2f998-161">6004 **Batch Post Service Invoices**</span></span>
   * <span data-ttu-id="2f998-162">6001 **Eräkirjaa huoltotilaukset**</span><span class="sxs-lookup"><span data-stu-id="2f998-162">6001 **Batch Post Service Orders**</span></span>

5. <span data-ttu-id="2f998-163">Valitse **Raporttipyyntösivu**-valintaruutu.</span><span class="sxs-lookup"><span data-stu-id="2f998-163">Select the **Report Request Page** check box.</span></span>
6. <span data-ttu-id="2f998-164">Määritä **Eräkirjaa myyntitilaukset** -pyyntösivulla, mitä myyntitilausten automaattiseen kirjaukseen sisältyy, ja valitse sitten **OK**-painike.</span><span class="sxs-lookup"><span data-stu-id="2f998-164">In the **Batch Post Sales Orders** request page, define what is included during automatic posting of sales orders, and then choose the **OK** button.</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="2f998-165">Muista käyttää tiukkoja suodattimia, sillä muutoin [!INCLUDE [prodshort](includes/prodshort.md)] kirjaa kaikki asiakirjat, vaikka ne eivät olisi valmiita.</span><span class="sxs-lookup"><span data-stu-id="2f998-165">Remember to set strict filters; otherwise, [!INCLUDE [prodshort](includes/prodshort.md)] will post all documents, even if they are not ready.</span></span> <span data-ttu-id="2f998-166">*Vapautettu*-arvon käyttöä suodattimen **Tilan**-kentän arvona ja *tänään*-arvoa **Kirjauspäivämäärä**-kentän arvona kannattaa harkita.</span><span class="sxs-lookup"><span data-stu-id="2f998-166">Consider setting a filter on the **Status** field for the value *Released*, and a filter on the **Posting Date** field for the value *..today*.</span></span> <span data-ttu-id="2f998-167">Lisätietoja on kohdassa [Lajitteleminen, hakeminen ja suodattaminen](ui-enter-criteria-filters.md).</span><span class="sxs-lookup"><span data-stu-id="2f998-167">For more information, see [Sorting, Searching, and Filtering](ui-enter-criteria-filters.md).</span></span>
7. <span data-ttu-id="2f998-168">Valitse kaikki valintaruudut **Suorita maanantaisin** -kohdasta **Suorita perjantaisin** -kohtaan.</span><span class="sxs-lookup"><span data-stu-id="2f998-168">Select all check boxes from **Run on Mondays** through **Run on Fridays**.</span></span>
8. <span data-ttu-id="2f998-169">Anna **Aloitusaika**-kentässä arvoksi 16.00.</span><span class="sxs-lookup"><span data-stu-id="2f998-169">In the **Starting Time** field, enter 4 PM.</span></span>
9. <span data-ttu-id="2f998-170">Valitse **Määritä tilaksi valmis** -toiminto.</span><span class="sxs-lookup"><span data-stu-id="2f998-170">Choose the **Set Status to Ready** action.</span></span>

<span data-ttu-id="2f998-171">Määritettyjen suodattimien mukaiset myyntitilaukset kirjataan nyt joka arkipäivä kello 16.</span><span class="sxs-lookup"><span data-stu-id="2f998-171">Sales orders that are within defined filters will now be posted every week day at 4 PM.</span></span>

> [!NOTE]
> <span data-ttu-id="2f998-172">Jos työjono ei voi kirjata myyntitilausta, tilaksi muutetaan **Virhe** ja myyntitilaus lisätään niiden myyntitilausten luetteloon, jotka käyttäjän on käsiteltävä manuaalisesti.</span><span class="sxs-lookup"><span data-stu-id="2f998-172">If the job queue cannot post the sales order, the status is changed to **Error** and the sales order is added to the list of sales orders that the user must handle manually.</span></span> <span data-ttu-id="2f998-173">Lisätietoja on kohdassa [Työjonon tilan tai virheiden tarkasteleminen](admin-job-queues-schedule-tasks.md#to-view-status-or-errors-in-the-job-queue).</span><span class="sxs-lookup"><span data-stu-id="2f998-173">For more information, see [To view status or errors in the job queue](admin-job-queues-schedule-tasks.md#to-view-status-or-errors-in-the-job-queue).</span></span>

<span data-ttu-id="2f998-174">Kun työjonot on määritetty ja käytössä, tila voi muuttua seuraavasti kunkin toistuvan jakson aikana:</span><span class="sxs-lookup"><span data-stu-id="2f998-174">After job queues are set up and running, the status can change as follows within each recurring period:</span></span>

* <span data-ttu-id="2f998-175">**Estossa**</span><span class="sxs-lookup"><span data-stu-id="2f998-175">**On Hold**</span></span>  
* <span data-ttu-id="2f998-176">**Valmis**</span><span class="sxs-lookup"><span data-stu-id="2f998-176">**Ready**</span></span>  
* <span data-ttu-id="2f998-177">**Työn alla**</span><span class="sxs-lookup"><span data-stu-id="2f998-177">**In Process**</span></span>  
* <span data-ttu-id="2f998-178">**Virhe**</span><span class="sxs-lookup"><span data-stu-id="2f998-178">**Error**</span></span>  
* <span data-ttu-id="2f998-179">**Valmis**</span><span class="sxs-lookup"><span data-stu-id="2f998-179">**Finished**</span></span>  

<span data-ttu-id="2f998-180">Kun työ on valmis, se poistetaan työjonotapahtumien luettelosta, ellei se ole toistuva työ.</span><span class="sxs-lookup"><span data-stu-id="2f998-180">After a job has finished successfully, it is removed from the list of job queue entries unless it is a recurring job.</span></span> <span data-ttu-id="2f998-181">Jos kyseessä on toistuva työ, **Aloituspvm ja -aika** -kentän arvo muokataan näyttämään seuraava aika, jolloin työ odotetaan suoritettavan.</span><span class="sxs-lookup"><span data-stu-id="2f998-181">If it is a recurring job, the **Earliest Start Time** field is adjusted to show the next time that the job is expected to run.</span></span>  

## <a name="to-view-status-or-errors-in-the-job-queue"></a><span data-ttu-id="2f998-182">Työjonon tilan tai virheiden näyttäminen</span><span class="sxs-lookup"><span data-stu-id="2f998-182">To view status or errors in the job queue</span></span>
<span data-ttu-id="2f998-183">Työnjonon suorituksen aikana luotavat tiedot tallennetaan tietokantaan, jotta voit tehdä työjonon virheiden vianmäärityksen.</span><span class="sxs-lookup"><span data-stu-id="2f998-183">Data that is generated when a job queue is run is stored in the database, so that you can troubleshoot job queue errors.</span></span>

### <a name="to-view-status-for-any-job"></a><span data-ttu-id="2f998-184">Minkä tahansa työn tilan näyttäminen</span><span class="sxs-lookup"><span data-stu-id="2f998-184">To view status for any job</span></span>
1. <span data-ttu-id="2f998-185">Valitse ![Lamppu, joka avaa Kerro, mitä haluat tehdä -toiminnon](media/ui-search/search_small.png "Kerro, mitä haluat tehdä") kuvakkeen, syötä **Työjonotapahtumat** ja valitse sitten liittyvä linkki.</span><span class="sxs-lookup"><span data-stu-id="2f998-185">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Job Queue Entries**, and then choose the related link.</span></span>
2. <span data-ttu-id="2f998-186">Valitse **Työjonotapahtumat**-sivulla ensin työjonotapahtuma ja sitten **Lokitapahtumat**-toiminto.</span><span class="sxs-lookup"><span data-stu-id="2f998-186">On the **Job Queue Entries** page, select a job queue entry, and then choose the **Log Entries** action.</span></span>  

### <a name="to-view-status-from-a-sales-or-purchase-document"></a><span data-ttu-id="2f998-187">Myynti- tai ostoasiakirjan tilan näyttäminen</span><span class="sxs-lookup"><span data-stu-id="2f998-187">To view status from a sales or purchase document</span></span>
1. <span data-ttu-id="2f998-188">Valitse asiakirjassa, jonka yritit kirjata taustakirjauksena, **Työjonon tila** -kenttä, jossa on **Virhe**.</span><span class="sxs-lookup"><span data-stu-id="2f998-188">From the document that you have tried to post with background posting, choose the **Job Queue Status** field, which will contain **Error**.</span></span>
2. <span data-ttu-id="2f998-189">Tarkastele virhesanomaa ja korjaa ongelma.</span><span class="sxs-lookup"><span data-stu-id="2f998-189">Review the error message and fix the problem.</span></span>

## <a name="the-my-job-queue-part"></a><span data-ttu-id="2f998-190">Oma työjono -osa</span><span class="sxs-lookup"><span data-stu-id="2f998-190">The My Job Queue Part</span></span>
<span data-ttu-id="2f998-191">Roolikeskuksen **Oma työjono** -osa sisältää työjonotapahtumat, jotka olet aloittanut mutta jotka eivät ole vielä valmiita.</span><span class="sxs-lookup"><span data-stu-id="2f998-191">The **My Job Queue** part on your Role Center shows the job queues entries that you have started, but which are not yet finished.</span></span> <span data-ttu-id="2f998-192">Oletusarvoisesti osa ei ole näkyvissä, joten se on lisättävä omaan roolikeskukseesi.</span><span class="sxs-lookup"><span data-stu-id="2f998-192">By default, the part is not visible, so you have to add it to your Role Center.</span></span> <span data-ttu-id="2f998-193">Lisätietoja on kohdassa [Työtilan mukauttaminen](ui-personalization-user.md).</span><span class="sxs-lookup"><span data-stu-id="2f998-193">For more information, see [Personalize Your Workspace](ui-personalization-user.md).</span></span>  

<span data-ttu-id="2f998-194">Tässä osassa näkee, mitä asiakirjoja, joissa on tunnuksesi **Määritetty käyttäjätunnus** -kentässä, käsitellään tai mitkä ovat jonossa, mukaan lukien taustakirjaukseen liittyvät asiakirjat.</span><span class="sxs-lookup"><span data-stu-id="2f998-194">The part shows which documents with your ID in the **Assigned User ID** field are being processed or are queued, including those related to background posting.</span></span> <span data-ttu-id="2f998-195">Osa tietää yhdellä silmäyksellä, onko asiakirjan kirjaamisessa tai työjonon tapahtumissa tapahtunut virheitä.</span><span class="sxs-lookup"><span data-stu-id="2f998-195">The part can tell you at a glance whether there has been an error in the posting of a document or if there are errors in a job queue entry.</span></span> <span data-ttu-id="2f998-196">Osan avulla voit peruuttaa kun asiakirjan kirjaamisen, jos se ei ole käynnissä.</span><span class="sxs-lookup"><span data-stu-id="2f998-196">The part also lets you cancel a document posting if it is not running.</span></span>

### <a name="to-view-an-error-from-the-my-job-queue-part"></a><span data-ttu-id="2f998-197">Tarkastele virhettä oma työjono -osasta</span><span class="sxs-lookup"><span data-stu-id="2f998-197">To view an error from the My Job Queue part</span></span>
1. <span data-ttu-id="2f998-198">Valitse tapahtumassa, jonka tila on **Virhe**, **Näytä virhe** -toiminto.</span><span class="sxs-lookup"><span data-stu-id="2f998-198">On an entry with the status **Error**, choose the **Show Error** action.</span></span>
2. <span data-ttu-id="2f998-199">Tarkastele virhesanomaa ja korjaa ongelma.</span><span class="sxs-lookup"><span data-stu-id="2f998-199">Review the error message and fix the problem.</span></span>

## <a name="security"></a><span data-ttu-id="2f998-200">Suojaus</span><span class="sxs-lookup"><span data-stu-id="2f998-200">Security</span></span>  
<span data-ttu-id="2f998-201">Työjonon tapahtumien suoritus perustuu käyttöoikeuksiin.</span><span class="sxs-lookup"><span data-stu-id="2f998-201">Job queue entries run based on permissions.</span></span> <span data-ttu-id="2f998-202">Kyseiset oikeudet on sallittava raportin tai koodiyksikön toteuttamiseen.</span><span class="sxs-lookup"><span data-stu-id="2f998-202">Those permissions must allow the execution of the report or codeunit.</span></span>  

<span data-ttu-id="2f998-203">Kun työjono on aktivoitu manuaalisesti, se suoritetaan käyttäjän tunnistetiedoilla.</span><span class="sxs-lookup"><span data-stu-id="2f998-203">When a job queue is activated manually, it is run with the credentials of the user.</span></span> <span data-ttu-id="2f998-204">Kun työjono on aktivoitu ajoitettuna tehtävänä, se suoritetaan palvelininstanssin tunnistetiedoilla.</span><span class="sxs-lookup"><span data-stu-id="2f998-204">When a job queue is activated as a scheduled task, it is run with the credentials of the server instance.</span></span> <span data-ttu-id="2f998-205">Kun työ on suoritettu, se suoritetaan sen aktivoivan työjonon tunnistetiedoilla.</span><span class="sxs-lookup"><span data-stu-id="2f998-205">When a job is run, it is run with the credentials of the job queue that activates it.</span></span> <span data-ttu-id="2f998-206">Työjonon luoneella käyttäjällä on oltava myös käyttöoikeudet.</span><span class="sxs-lookup"><span data-stu-id="2f998-206">However, the user who created that job queue entry must also have permissions.</span></span> <span data-ttu-id="2f998-207">Kun kyse on suorita käyttäjäistunnossa -työnä (esimerkiksi taustakirjauksissa), se suoritetaan kyseisen työn luoneen käyttäjän tunnistetiedoilla.</span><span class="sxs-lookup"><span data-stu-id="2f998-207">When a job is "run in user session" (such as during background posting), it is run with the credentials of the user who created that job.</span></span>  

> [!IMPORTANT]  
> <span data-ttu-id="2f998-208">Jos käytät [!INCLUDE[d365fin](includes/d365fin_md.md)]in mukana toimitettuja pääkäyttöoikeusjoukkoa, sinulla ja käyttäjillä oikeudet suorittaa kaikki objektit.</span><span class="sxs-lookup"><span data-stu-id="2f998-208">If you use the SUPER permissions set that comes with [!INCLUDE[d365fin](includes/d365fin_md.md)], you and your users have permissions to run all objects.</span></span> <span data-ttu-id="2f998-209">Tässä tapauksessa kunkin käyttäjän käyttöoikeutta rajoittavat vain tietojen käyttöoikeudet.</span><span class="sxs-lookup"><span data-stu-id="2f998-209">In this case, access for each user is only limited by permissions for data.</span></span>  

## <a name="using-job-queues-effectively"></a><span data-ttu-id="2f998-210">Käytetään työjonoja tehokkaasti</span><span class="sxs-lookup"><span data-stu-id="2f998-210">Using Job Queues Effectively</span></span>  
<span data-ttu-id="2f998-211">Työjonotapahtuma-tietueella on monta kenttää, joiden tarkoituksena on viedä parametrejä koodiyksikölle, jonka olet määrittänyt ajettavaksi työjonossa.</span><span class="sxs-lookup"><span data-stu-id="2f998-211">The job queue entry record has many fields whose purpose is to carry parameters into a codeunit that you have specified to be run with a job queue.</span></span> <span data-ttu-id="2f998-212">Tämä tarkoittaa myös sitä, että koodiyksiköt, jotka suoritetaan työjonon kautta, on määritettävä työjonotapahtumatietueessa **OnRun**-käynnistimen parametrina.</span><span class="sxs-lookup"><span data-stu-id="2f998-212">This also means that codeunits that are to be run via the job queue must be specified with the Job Queue Entry record as a parameter in the **OnRun** trigger.</span></span> <span data-ttu-id="2f998-213">Tämä auttaa parantamaan tietoturvaa, sillä se estää käyttäjiä suorittamasta satunnaisia koodiyksiköitä työjonon kautta.</span><span class="sxs-lookup"><span data-stu-id="2f998-213">This helps provide an extra level of security, as this prevents users from running random codeunits via the job queue.</span></span> <span data-ttu-id="2f998-214">Jos käyttäjän on välitettävä raportoitavat parametrit, raportti on suoritettava koodiyksikössä, joka jäsentää syöttöparametrit ja syöttää ne raporttiin ennen sen suoritusta.</span><span class="sxs-lookup"><span data-stu-id="2f998-214">If the user must pass parameters to a report, the only way to do this is by wrapping the report execution into a codeunit, which then parses the input parameters and enters them into the report before executing it.</span></span>  

## <a name="scheduling-synchronization-between-d365fin-and-d365fin"></a><span data-ttu-id="2f998-215">Synkronoinnin aikatauluttaminen [!INCLUDE[d365fin](includes/d365fin_md.md)] :n ja [!INCLUDE[d365fin](includes/cds_long_md.md)]:n välillä</span><span class="sxs-lookup"><span data-stu-id="2f998-215">Scheduling Synchronization Between [!INCLUDE[d365fin](includes/d365fin_md.md)] and [!INCLUDE[d365fin](includes/cds_long_md.md)]</span></span>

<span data-ttu-id="2f998-216">Jos [!INCLUDE[d365fin](includes/d365fin_md.md)] ja [!INCLUDE[d365fin](includes/cds_long_md.md)] on integroitu, voit ajoittaa työjonon avulla, milloin haluat synkronoida näiden kahden liiketoimintasovelluksen tietueiden tiedot.</span><span class="sxs-lookup"><span data-stu-id="2f998-216">If you have integrated [!INCLUDE[d365fin](includes/d365fin_md.md)] with [!INCLUDE[d365fin](includes/cds_long_md.md)], you can use the job queue to schedule when you want to synchronize data for the records that you have coupled in the two business apps.</span></span> <span data-ttu-id="2f998-217">Integroinnille määritetyn suunnan ja sääntöjen mukaan synkronointityöt voivat myös luoda uusia tietueita kohdesovellukseen, jotta ne vastaavat lähdetietoja.</span><span class="sxs-lookup"><span data-stu-id="2f998-217">Depending on the direction and rules that you have defined for the integration, the synchronization jobs can also create new records in the destination app to match those in the source.</span></span> <span data-ttu-id="2f998-218">Jos myyjä esimerkiksi luo uuden kontaktin [!INCLUDE[crm_md](includes/crm_md.md)]-ohjelmassa, synkronointityö voi luoda kontaktin linkitertylle myyjälle [!INCLUDE[d365fin](includes/d365fin_md.md)] -ohjelmassa.</span><span class="sxs-lookup"><span data-stu-id="2f998-218">For example, if a salesperson creates a new contact in [!INCLUDE[crm_md](includes/crm_md.md)], the synchronization job can create that contact for the coupled salesperson in [!INCLUDE[d365fin](includes/d365fin_md.md)].</span></span> <span data-ttu-id="2f998-219">Lisätietoja on kohdassa [Business Centralin ja Dynamics 365 Salesin synkronoinnin ajoittaminen](admin-scheduled-synchronization-using-the-synchronization-job-queue-entries.md)</span><span class="sxs-lookup"><span data-stu-id="2f998-219">For more information, see [Scheduling a Synchronization between Business Central and Dynamics 365 Sales](admin-scheduled-synchronization-using-the-synchronization-job-queue-entries.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="2f998-220">Katso myös</span><span class="sxs-lookup"><span data-stu-id="2f998-220">See Also</span></span>

[<span data-ttu-id="2f998-221">Hallinta</span><span class="sxs-lookup"><span data-stu-id="2f998-221">Administration</span></span>](admin-setup-and-administration.md)  
[<span data-ttu-id="2f998-222">Business Central -sovelluksen määrittäminen</span><span class="sxs-lookup"><span data-stu-id="2f998-222">Setting Up Business Central</span></span>](setup.md)  
[<span data-ttu-id="2f998-223">Perusasetusten muuttaminen</span><span class="sxs-lookup"><span data-stu-id="2f998-223">Change Basic Settings</span></span>](ui-change-basic-settings.md)  
