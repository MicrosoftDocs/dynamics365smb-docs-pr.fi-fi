---
title: Muutosten valvonta| Microsoft Docs
description: Voit aktivoida käyttäjälokin niin, että saat historiatiedot kaikista seurattujen taulukoiden tietoihin tehdyistä muutoksista. Voit seurata aktiviteetteja myös tietyn tyyppisillä toimintalokeilla.
author: edupont04
ms.service: dynamics365-business-central
ms.topic: get-started-article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: user log, user activity, tracking
ms.date: 10/01/2020
ms.author: edupont
ms.openlocfilehash: 1497051beebd01839dfc4b4fe2dce6b46977eef4
ms.sourcegitcommit: ddbb5cede750df1baba4b3eab8fbed6744b5b9d6
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 10/01/2020
ms.locfileid: "3922665"
---
# <a name="auditing-changes-in-business-central"></a><span data-ttu-id="5d0a9-104">Business Centralin tilintarkastuksen muutokset</span><span class="sxs-lookup"><span data-stu-id="5d0a9-104">Auditing Changes in Business Central</span></span>
<span data-ttu-id="5d0a9-105">Monien liikkeenjohtosovellusten yhteisenä haasteena on välttää ei-toivottuja muutoksia tiedoissa.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-105">A common challenge in many business management applications is avoiding unwanted changes in data.</span></span> <span data-ttu-id="5d0a9-106">Kyseessä voi olla mikä tahansa väärästä asiakkaan puhelinnumerosta väärään pääkirjanpitokirjaukseen.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-106">It could be anything from an incorrect customer telephone number to an incorrect posting to the general ledger.</span></span> <span data-ttu-id="5d0a9-107">Tässä ohjeaiheessa kuvataan, miten voidaan selvittää, mitä muutoksia on tehty, kuka sen muutoksen teki ja milloin se tehtiin.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-107">This topic describes the capabilities for finding out what changed, who changed it, and when the change was made.</span></span>

## <a name="about-the-change-log"></a><span data-ttu-id="5d0a9-108">Muutoslokista</span><span class="sxs-lookup"><span data-stu-id="5d0a9-108">About the Change Log</span></span> 
<span data-ttu-id="5d0a9-109">Voit seurata muutoslokiin avulla kaikkia suoria muutoksia, joita käyttäjä tekee tietokannan tietoihin.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-109">The change log lets you track all direct modifications a user makes to data in the database.</span></span> <span data-ttu-id="5d0a9-110">Jokainen taulukko ja kenttä niissä pitää haluttaessa määrittää erikseen seurattavaksi, ja sitten loki tulee aktivoida.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-110">You must specify each table and field that you want the system to log, and then you must activate the change log.</span></span>  

<span data-ttu-id="5d0a9-111">Muutosloki perustuu seuraamiesi taulukoiden tietoihin tehtyihin muutoksiin. **Muutoslokin tapahtumat** -sivulla tapahtumat järjestetään aikajärjestykseen. Sivulla näkyy kaikki muutokset, jotka tehdään määrittämiesi taulukoiden kenttien arvoihin.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-111">The change log is based on changes that are made to data in the tables that you track. On the **Change Log Entries** page, entries are chronologically ordered and show all changes that are made to the values in fields on the tables you specify.</span></span>

> [!Important]
> <span data-ttu-id="5d0a9-112">Muutokset näkyvät **Muutoslokin tapahtumat** -kohdassa vasta, kun käyttäjän istunto on käynnistetty uudelleen, mikä tapahtuu seuraavasti:</span><span class="sxs-lookup"><span data-stu-id="5d0a9-112">Changes display in the **Change Log Entries** only after the user's session is restarted, which happens as follows:</span></span>
<br />
> * <span data-ttu-id="5d0a9-113">Istunto vanhentui ja se päivitettiin.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-113">The session expired and was refreshed.</span></span>
> * <span data-ttu-id="5d0a9-114">Käyttäjä valitsi toisen yrityksen tai roolikeskuksen.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-114">The user selected another company or Role Center.</span></span>
> * <span data-ttu-id="5d0a9-115">Käyttäjä kirjautui ensin ulos ja sitten takaisin sisään.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-115">The user signed out and back in.</span></span>

### <a name="working-with-the-change-log"></a><span data-ttu-id="5d0a9-116">Muutoslokin käyttäminen</span><span class="sxs-lookup"><span data-stu-id="5d0a9-116">Working with the Change Log</span></span>
<span data-ttu-id="5d0a9-117">Voit aktivoida muutoslokin ja poistaa sen aktivoinnin **Muutoslokin asetukset** -sivulla.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-117">You activate and deactivate the change log on the **Change Log Setup** page.</span></span> <span data-ttu-id="5d0a9-118">Kun käyttäjä aktivoi muutoslokin tai poistaa sen aktivoinnin, tämä aktiviteetti kirjataan, joten näet aina, kuka käyttäjistä poisti muutoslokin aktivoinnin tai aktivoi sen uudelleen.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-118">When a user activates or deactivates the change log, this activity is logged, so you can always see which user deactivated or reactivated the change log.</span></span>

<span data-ttu-id="5d0a9-119">Jos valitset **Muutoslokin asetukset** -sivulla **Taulukot**-toiminnon, voit määrittää sekä taulukot, joiden muutoksia seurataan, että seurattavat muutokset. [!INCLUDE[d365fin](includes/d365fin_md.md)] seuraa myös tiettyjä järjestelmätaulukoita.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-119">On the **Change Log Setup** page, if you choose the **Tables** action, you can specify which tables you want to track changes for, and which changes to track. [!INCLUDE[d365fin](includes/d365fin_md.md)] also tracks a number of system tables.</span></span>

> [!NOTE]
> <span data-ttu-id="5d0a9-120">Voit valvoa tiettyjä muutoksia koskevia kenttiä, kuten arkaluonteisia tietoja sisältäviä kenttiä, määrittämällä kenttien seurannan.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-120">You can monitor specific fields for changes, such as fields that contain sensitive data, by setting up field monitoring.</span></span> <span data-ttu-id="5d0a9-121">Jos teet niin, redundanssin välttämiseksi kenttää sisältävä taulukko ei ole käytettävissä muutoslokin määrityksessä.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-121">If you do, to avoid redundancy the table that contains the field will not be available for the change log setup.</span></span> <span data-ttu-id="5d0a9-122">Lisätietoja on kohdassa [Herkkien kenttien valvonta](across-log-changes.md#monitoring-sensitive-fields).</span><span class="sxs-lookup"><span data-stu-id="5d0a9-122">For more information, see [Monitoring Sensitive Fields](across-log-changes.md#monitoring-sensitive-fields).</span></span>

<span data-ttu-id="5d0a9-123">Kun olet määrittänyt muutoslokin, aktivoinut sen ja muuttanut tietoja, voit tarkastella ja suodattaa muutoksia **Muutoslokin tapahtumat** -sivulla.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-123">After you have set up the change log, activated it, and made a change to data, you can view and filter the changes on the **Change Log Entries** page.</span></span> <span data-ttu-id="5d0a9-124">Jos haluat poistaa merkintöjä, voit tehdä sen **Poista muutoslokin tapahtumat** -sivulla, jossa voit määrittää päivämääriin ja kellonaikaan perustuvia suodattimia.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-124">If you want to delete entries, you can do that on the **Delete Change Log Entries** page, where you can set filters based on dates and time.</span></span>  

## <a name="about-activity-logs"></a><span data-ttu-id="5d0a9-125">Tietoja tapahtumalokeista</span><span class="sxs-lookup"><span data-stu-id="5d0a9-125">About Activity Logs</span></span>
<span data-ttu-id="5d0a9-126">Joillakin [!INCLUDE [prodshort](includes/prodshort.md)]in sivuilla voi tarkastella toimintalokeja, joissa näkyy [!INCLUDE [prodshort](includes/prodshort.md)]ista vietävien ja sovellukseen tuotavien tiedostojen tila ja mahdolliset virheet.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-126">From some pages in [!INCLUDE [prodshort](includes/prodshort.md)], you can view an activity log that shows the status and any errors from files that you export from or import into [!INCLUDE [prodshort](includes/prodshort.md)].</span></span>  

### <a name="working-with-activity-logs"></a><span data-ttu-id="5d0a9-127">Toimintalokien käyttäminen</span><span class="sxs-lookup"><span data-stu-id="5d0a9-127">Working with Activity Logs</span></span>
<span data-ttu-id="5d0a9-128">Tiedot näytetään **Toimintaloki**-sivulla sen kontekstin mukaan, josta ne avataan.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-128">The information is displayed in the **Activity Log** page according to the context that it is opened from.</span></span> <span data-ttu-id="5d0a9-129">Voit esimerkiksi avata sivun **Document Exchange -palvelun asetukset**-, **Saapuva asiakirja**-, **Kirjattu myyntilasku**- ja **Kirjattu myyntihyvityslasku** -sivuilta.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-129">For example, you can open the page from the **Document Exchange Service Setup**, **Incoming Document**, **Posted Sales Invoice**, and **Posted Sales Credit Memo** pages.</span></span> <span data-ttu-id="5d0a9-130">Voit tyhjentää lokitapahtumaluettelon tai poistaa vain yli seitsemän päivää vanhemmat tapahtumat.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-130">You can empty the list of log entries, or just clear the list of entries older than seven days.</span></span>  

## <a name="monitoring-sensitive-fields"></a><span data-ttu-id="5d0a9-131">Arkaluonteisten kenttien valvonta</span><span class="sxs-lookup"><span data-stu-id="5d0a9-131">Monitoring Sensitive Fields</span></span>
<span data-ttu-id="5d0a9-132">Luottamuksellisten tietojen suojaaminen ja yksityisyys ovat useimmille yrityksille keskeinen huolenaihe.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-132">Keeping sensitive data secure and private is a core concern for most businesses.</span></span> <span data-ttu-id="5d0a9-133">Jos haluat lisätä suojauskerroksen, voit seurata tärkeitä kenttiä ja saada ilmoituksen sähköpostilla, kun joku muuttaa arvoa.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-133">To add a layer of security, you can monitor important fields and be notified by email when someone changes a value.</span></span> <span data-ttu-id="5d0a9-134">Saatat esimerkiksi haluta saada ilmoituksen, jos joku muuttaa yrityksesi IBAN-numeroa.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-134">For example, you might want to be notified if someone changes your company's IBAN number.</span></span>

> [!NOTE]
> <span data-ttu-id="5d0a9-135">Ilmoitusten lähettäminen sähköpostitse edellyttää, että määrität sähköpostiominaisuuden [!INCLUDE[prodshort](includes/prodshort.md)] -ohjelmaan.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-135">Sending notifications by email requires that you set up the email feature in [!INCLUDE[prodshort](includes/prodshort.md)].</span></span> <span data-ttu-id="5d0a9-136">Lisätietoja on kohdassa [Sähköpostin määrittäminen](admin-how-setup-email.md).</span><span class="sxs-lookup"><span data-stu-id="5d0a9-136">For more information, see [Set Up Email](admin-how-setup-email.md).</span></span>

### <a name="setting-up-field-monitoring"></a><span data-ttu-id="5d0a9-137">Kentän valvonnan asetusten määrittäminen</span><span class="sxs-lookup"><span data-stu-id="5d0a9-137">Setting Up Field Monitoring</span></span>
<span data-ttu-id="5d0a9-138">**Kentän valvonnan asetusten määrittäminen** -avustetun asennusoppaan avulla kentät, joita haluat seurata suodatusehtojen, kuten kenttien tietojen arkaluonteisuusluokituksen perusteella.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-138">You can use the **Monitor Field Change Setup** assisted setup guide to specify the fields that you want to monitor based on filter criteria, such as the data sensitivity classification for the fields.</span></span> <span data-ttu-id="5d0a9-139">Lisätietoja on kohdassa [Tietojen arkaluontoisuuden luokitteleminen](admin-classifying-data-sensitivity.md).</span><span class="sxs-lookup"><span data-stu-id="5d0a9-139">For more information, see [Classifying Data Sensitivity](admin-classifying-data-sensitivity.md).</span></span> <span data-ttu-id="5d0a9-140">Oppaassa voidaan myös määrittää henkilö, joka saa sähköposti-ilmoituksen muutoksen tapahtuessa, sekä sähköpostitili, jolla ilmoitus lähetetään.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-140">The guide also lets you specify the person who will receive an email notification when a change occurs, and the email account that will send the notification email.</span></span> <span data-ttu-id="5d0a9-141">Sinun täytyy määrittää sekä käyttäjä, jolle ilmoitetaan että tili, josta ilmoitus lähetetään.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-141">You must specify both the user notify and the account from which to send the notification.</span></span> <span data-ttu-id="5d0a9-142">Kun ohjelma on valmis, voit hallita kentän seurannan asetuksia **Kentän seuranta-asetukset** -sivulla.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-142">After you finish the guide, you can manage settings for field monitoring on the **Field Monitoring Setup** page.</span></span> 

<span data-ttu-id="5d0a9-143">**Tarkkailtavien kenttien lokitapahtumat** -sivun tapahtumaluettelo kasvaa ajan mittaan.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-143">Over time, the list of entries on the **Monitored Fields Log Entries** page will grow.</span></span> <span data-ttu-id="5d0a9-144">Voit vähentää merkintöjen määrää luomalla säilytyskäytännön, joka poistaa tapahtumat tietyn ajanjakson jälkeen.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-144">To reduce the number of entries you can create a retention policy that will delete entries after a specified period of time.</span></span> <span data-ttu-id="5d0a9-145">Lisätietoja on kohdassa [Säilytyskäytäntöjen määrittäminen](admin-data-retention-policies.md).</span><span class="sxs-lookup"><span data-stu-id="5d0a9-145">For more information, see [Define Retention Policies](admin-data-retention-policies.md).</span></span>

<span data-ttu-id="5d0a9-146">Kun määrität kentän seurannan tai muutat asetuksia, tapahtumat luodaan muutoksesi.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-146">When you set up field monitoring, or change something in the setup, entries are created for your changes.</span></span> <span data-ttu-id="5d0a9-147">Voit määrittää, näytetäänkö seurannan asetuksiin liittyvät tapahtumat näyttämällä vai piilottamalla ne.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-147">You can specify whether to display entries related to the monitoring setup by showing or hiding them.</span></span> 

<span data-ttu-id="5d0a9-148">Voit hallita kentän seurannan asetuksia, kuten sen, lähetetäänkö sähköposti-ilmoitus vai merkitäänkö vain lokiin muutos, kunkin **Tarkkailtavat kentät -työkirja** -sivun kentän osalta.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-148">You can manage settings for field monitoring, such as whether to send an email notification or just log the change, for each field on the **Monitored Fields Worksheet** page.</span></span> <span data-ttu-id="5d0a9-149">Sivulla voit myös lisätä tai poistaa valvottuja kenttiä.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-149">The page is also where you can add or remove fields to monitor.</span></span>

> [!NOTE]
> <span data-ttu-id="5d0a9-150">Kun olet lisännyt yhden tai useamman kentän ja käynnistät seurannan, sinun on kirjauduttava ulos [!INCLUDE[prodshort](includes/prodshort.md)] -ohjelmasta ja kirjautua uudelleen sisään, jotta voit ottaa asetukset käyttöön.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-150">After you add one or more fields and start monitoring, you must sign out of [!INCLUDE[prodshort](includes/prodshort.md)] and sign in again to apply your settings.</span></span>

### <a name="working-with-field-monitoring"></a><span data-ttu-id="5d0a9-151">Kentän seurannan käsitteleminen</span><span class="sxs-lookup"><span data-stu-id="5d0a9-151">Working with Field Monitoring</span></span>
<span data-ttu-id="5d0a9-152">Tarkkailtujen kenttien kaikkien muutettujen arvojen tapahtumat ovat käytettävissä **Tarkkailtavat kentät-lokin tapahtumat** -sivulla.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-152">Entries for all changed values for monitored fields are available on the **Monitored Fields Log Entries** page.</span></span> <span data-ttu-id="5d0a9-153">Esimerkiksi tapahtumat sisältävät tietoja, kuten kentän, jonka arvoa on muutettu, alkuperäiset ja uudet arvot sekä kuka teki muutoksen ja milloin he tekivät sen.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-153">For example, entries contain information such as the field for which the value was changed, the original and new values, and who made the change and when they did so.</span></span> <span data-ttu-id="5d0a9-154">Jos haluat tutkia muutosta edelleen, valitse arvo, joka avaa sivun, jossa se on tehty.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-154">To further investigate a change, choose a value to open the page where it was made.</span></span> <span data-ttu-id="5d0a9-155">Voit tarkastella kaikkien tapahtumien luetteloa valitsemalla **Kentän muutostapahtumat**.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-155">To view a list of all entries, choose **Field Change Entries**.</span></span>

## <a name="defining-retention-policies"></a><span data-ttu-id="5d0a9-156">Säilytyskäytäntöjen määrittäminen</span><span class="sxs-lookup"><span data-stu-id="5d0a9-156">Defining Retention Policies</span></span>
<span data-ttu-id="5d0a9-157">Voit luoda säilytyskäytäntöjä, jotka poistavat tarpeettomia tietoja lokeista määrittämäsi ajanjakson jälkeen.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-157">You can create retention policies to delete unneeded data in logs after a period of time that you specify.</span></span> <span data-ttu-id="5d0a9-158">Esimerkiksi ajan mittaan lokimerkintöjen määrä voi kasvaa.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-158">For example, over time the number of entries in a log can build up.</span></span> <span data-ttu-id="5d0a9-159">Puhdistamalla vanhoja tapahtumia voit helpottaa keskittymistä viimeaikaisiin ja todennäköisesti osuvimpiin tapahtumiin.</span><span class="sxs-lookup"><span data-stu-id="5d0a9-159">By cleaning up old entries you can make it easier to focus on more recent, and probably more relevant, entries.</span></span> <span data-ttu-id="5d0a9-160">Lisätietoja on kohdassa [Säilytyskäytäntöjen määrittäminen](admin-data-retention-policies.md).</span><span class="sxs-lookup"><span data-stu-id="5d0a9-160">For more information, see [Define Retention Policies](admin-data-retention-policies.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="5d0a9-161">Katso myös</span><span class="sxs-lookup"><span data-stu-id="5d0a9-161">See Also</span></span>
[<span data-ttu-id="5d0a9-162">Perusasetusten muuttaminen</span><span class="sxs-lookup"><span data-stu-id="5d0a9-162">Change Basic Settings</span></span>](ui-change-basic-settings.md)  
[<span data-ttu-id="5d0a9-163">Lajitteleminen, hakeminen ja suodattaminen</span><span class="sxs-lookup"><span data-stu-id="5d0a9-163">Sorting, Searching, and Filtering</span></span>](ui-enter-criteria-filters.md)  
[<span data-ttu-id="5d0a9-164">Sivujen ja tietojen etsiminen Kerro, mitä haluat tehdä -toiminnolla</span><span class="sxs-lookup"><span data-stu-id="5d0a9-164">Finding Pages and Information with Tell Me</span></span>](ui-search.md)  
<span data-ttu-id="5d0a9-165">[Määritä käyttöoikeudet käyttäjille ja ryhmille](ui-define-granular-permissions.md)  </span><span class="sxs-lookup"><span data-stu-id="5d0a9-165">[Assign Permissions to Users and Groups](ui-define-granular-permissions.md)  </span></span>  
<span data-ttu-id="5d0a9-166">[[!INCLUDE[d365fin](includes/d365fin_md.md)] -ohjelman käyttäminen](ui-work-product.md)</span><span class="sxs-lookup"><span data-stu-id="5d0a9-166">[Working with [!INCLUDE[d365fin](includes/d365fin_md.md)]](ui-work-product.md)</span></span>  
[<span data-ttu-id="5d0a9-167">Määritä säilytyskäytännöt</span><span class="sxs-lookup"><span data-stu-id="5d0a9-167">Define Retention Policies</span></span>](admin-data-retention-policies.md)  