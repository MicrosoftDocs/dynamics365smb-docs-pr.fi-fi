---
title: Hallitse tallennustilaa poistamalla asiakirjoja tai pakkaamalla tietoja.
description: Tietoja siitä, miten voit säilyttää historialliset tiedot pakkaamalla tapahtumia tai poistaa ne.
author: edupont04
ms.service: dynamics365-business-central
ms.topic: article
ms.date: 10/01/2020
ms.author: edupont
ms.openlocfilehash: f0d713f57345c312ddbfe6b5462f2623b1088dfc
ms.sourcegitcommit: 2e7307fbe1eb3b34d0ad9356226a19409054a402
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 12/17/2020
ms.locfileid: "4753865"
---
# <a name="manage-storage-by-deleting-documents-or-compressing-data"></a><span data-ttu-id="a6a31-103">Hallitse tallennustilaa poistamalla asiakirjoja tai pakkaamalla tietoja.</span><span class="sxs-lookup"><span data-stu-id="a6a31-103">Manage Storage by Deleting Documents or Compressing Data</span></span>

<span data-ttu-id="a6a31-104">Keskitetyn roolin, kuten sovelluksen järjestelmänvalvojan, on huolehdittava säännöllisesti siitä, että vanhat asiakirjat joko poistetaan tai tiivistetään.</span><span class="sxs-lookup"><span data-stu-id="a6a31-104">A central role, such as the application administrator, must regularly deal with accumulating historic documents by deleting or compressing them.</span></span>  

> [!TIP]
> <span data-ttu-id="a6a31-105">Tietoja muista tavoista vähentää tietokantaan tallennettujen tietojen määrää on kehittäjien ja IT-ammattilaisten ohjeessa [Business Central -tietoantoihin tallennetttujen tietojen vähentäminen](/dynamics365/business-central/dev-itpro/administration/database-reduce-data).</span><span class="sxs-lookup"><span data-stu-id="a6a31-105">For information about other ways to reduce the amount of data stored in a database, see [Reducing Data Stored in Business Central Databases](/dynamics365/business-central/dev-itpro/administration/database-reduce-data) in the Developer and IT pro help.</span></span>

## <a name="delete-documents"></a><span data-ttu-id="a6a31-106">Asiakirjojen poistaminen</span><span class="sxs-lookup"><span data-stu-id="a6a31-106">Delete Documents</span></span>

<span data-ttu-id="a6a31-107">Jossain tapauksissa voi olla tarpeen poistaa laskutettuja ostotilauksia, joita ei ole poistettu.</span><span class="sxs-lookup"><span data-stu-id="a6a31-107">In certain situations, you may need to delete invoiced purchase orders that have not been deleted.</span></span> [!INCLUDE[prod_short](includes/prod_short.md)] <span data-ttu-id="a6a31-108">tarkistaa, että poistetut ostotilaukset on laskutettu kokonaan.</span><span class="sxs-lookup"><span data-stu-id="a6a31-108">checks that you have fully invoiced the deleted purchase orders.</span></span> <span data-ttu-id="a6a31-109">Tilauksia, joita ei ole kokonaan laskutettu ja vastaanotettu, ei voi poistaa.</span><span class="sxs-lookup"><span data-stu-id="a6a31-109">You cannot delete orders that you have not fully invoiced and received.</span></span>  

<span data-ttu-id="a6a31-110">Ohjelma poistaa palautustilaukset tavallisesti sen jälkeen, kun ne on laskutettu.</span><span class="sxs-lookup"><span data-stu-id="a6a31-110">Return orders are usually deleted after they are invoiced.</span></span> <span data-ttu-id="a6a31-111">Kun kirjaat laskun, se siirretään **Kirjattu ostohyvityslasku** -sivulle.</span><span class="sxs-lookup"><span data-stu-id="a6a31-111">When you post an invoice, it is transferred to the **Posted Purchase Credit Memo** page.</span></span> <span data-ttu-id="a6a31-112">Jos kuitenkin olet valinnut **Palautustoimitus hyvityslaskutettaessa** -valintaruudun **Ostojen ja ostovelkojen asetukset** -sivulla, lasku siirretään sitten **Kirjattu palautustoimitus** -sivulle.</span><span class="sxs-lookup"><span data-stu-id="a6a31-112">If you selected the **Return Shipment on Credit Memo** check box on the **Purchases & Payable Setup** page, then the invoice is transferred to the **Posted Return Shipment** page.</span></span> <span data-ttu-id="a6a31-113">Voit poistaa asiakirjat **Poista laskutetut ostopal.til.** -eräajolla.</span><span class="sxs-lookup"><span data-stu-id="a6a31-113">You can delete the documents using the **Delete Invd Purch. Ret. Orders** batch job.</span></span> <span data-ttu-id="a6a31-114">Eräajo tarkistaa ennen poistamista, onko ostopalautustilaukset toimitettu ja laskutettu kokonaan.</span><span class="sxs-lookup"><span data-stu-id="a6a31-114">Before deleting, the batch job checks if the purchase return orders are fully shipped and invoiced.</span></span>  

<span data-ttu-id="a6a31-115">Puiteostotilauksia ei poisteta sen jälkeen, kun kaikki liittyvät ostotilaukset on käsitelty ja laskutettu.</span><span class="sxs-lookup"><span data-stu-id="a6a31-115">Blanket purchase orders are not deleted after you have processed and invoiced all the related purchase orders.</span></span> <span data-ttu-id="a6a31-116">Puitetilaukset voi poistaa **Poista lask. puiteostotilaukset** -eräajolla.</span><span class="sxs-lookup"><span data-stu-id="a6a31-116">You can delete blanket orders with the **Delete Invoiced Blanket Purchase Orders** batch job.</span></span>  

<span data-ttu-id="a6a31-117">Laskutetut huoltotilaukset poistetaan ohjelmasta automaattisesti sen jälkeen, kun ne on laskutettu kokonaan.</span><span class="sxs-lookup"><span data-stu-id="a6a31-117">Invoiced service orders are usually deleted automatically after having been fully invoiced.</span></span> <span data-ttu-id="a6a31-118">Kun lasku on kirjattu, vastaava tapahtuma luodaan **Kirjatut huoltolaskut** -sivulla.</span><span class="sxs-lookup"><span data-stu-id="a6a31-118">When an invoice is posted, a corresponding entry is created on the **Posted Service Invoices** page.</span></span> <span data-ttu-id="a6a31-119">Kirjattua asiakirjaa voi katsella **Kirjattu huoltolasku** -sivulla.</span><span class="sxs-lookup"><span data-stu-id="a6a31-119">The posted document can be viewed on the **Posted Service Invoice** page.</span></span>  

<span data-ttu-id="a6a31-120">Ohjelma ei poista huoltotilauksia automaattisesti, jos tilauksen kokonaismäärä on kirjattu **Huoltolasku**-sivulla eikä huoltotilauksessa.</span><span class="sxs-lookup"><span data-stu-id="a6a31-120">Service orders are not deleted automatically, however, if the total quantity on the order has been posted not from the service order itself, but from the **Service Invoice** page.</span></span> <span data-ttu-id="a6a31-121">Tällöin sinun on ehkä poistettava laskutetut tilaukset, joita ei poistettu.</span><span class="sxs-lookup"><span data-stu-id="a6a31-121">Then you may need to delete invoiced orders that were not deleted.</span></span> <span data-ttu-id="a6a31-122">Voit tehdä sen suorittamalla **Poista laskutetut huoltotilaukset** -eräajon.</span><span class="sxs-lookup"><span data-stu-id="a6a31-122">You can do this by running the **Delete Invoiced Service Orders** batch job.</span></span>  

## <a name="compress-data-with-date-compression"></a><span data-ttu-id="a6a31-123">Pakkaa tiedot päivämäärätiivistyksen avulla</span><span class="sxs-lookup"><span data-stu-id="a6a31-123">Compress Data with Date Compression</span></span>

<span data-ttu-id="a6a31-124">Voit pakata tietoja [!INCLUDE [prod_short](includes/prod_short.md)] -ohjelmassa niin, että säästät tilaa tietokannassa, joka [!INCLUDE [prod_short](includes/prod_short.md)] onlinessa voi jopa säästää rahaa.</span><span class="sxs-lookup"><span data-stu-id="a6a31-124">You can compress data in [!INCLUDE [prod_short](includes/prod_short.md)] so that you save space in the database, which in [!INCLUDE [prod_short](includes/prod_short.md)] online can even save you money.</span></span> <span data-ttu-id="a6a31-125">Tiivistys perustuu päivämääriin ja yhdistää useita vanhoja tapahtumia yhdeksi uudeksi tapahtumaksi.</span><span class="sxs-lookup"><span data-stu-id="a6a31-125">The compression is based on dates and works by combining several old entries into one new entry.</span></span> <span data-ttu-id="a6a31-126">Tapahtumia voi tiivistää vain suljetuilta tilikausilta, ja voit tiivistää vain sellaisia toimittajatapahtumia, joiden **Avoin**-kentän arvo on *Nro*.</span><span class="sxs-lookup"><span data-stu-id="a6a31-126">You can compress entries from closed fiscal years only, and only vendor ledger entries where the **Open** field is set to *No*.</span></span>  

<span data-ttu-id="a6a31-127">Esimerkiksi aiempien tilikausien toimittajatapahtumat voidaan tiivistää siten, että jokaista tiliä ja jokaista kuukautta kohti on vain yksi kredit- ja yksi debet-tapahtuma.</span><span class="sxs-lookup"><span data-stu-id="a6a31-127">For example, vendor ledger entries from previous fiscal years can be compressed so that there is only one credit and one debit entry per account per month.</span></span> <span data-ttu-id="a6a31-128">Uuden tapahtuman summa on kaikkien tiivistettyjen tapahtumien summa.</span><span class="sxs-lookup"><span data-stu-id="a6a31-128">The amount in the new entry is the sum of all the compressed entries.</span></span> <span data-ttu-id="a6a31-129">Määritetty päivämäärä on tiivistettävän ajanjakson aloituspäivämäärä, esimerkiksi kuukauden ensimmäinen päivä (jos tapahtumat on tiivistetty kuukauden mukaan).</span><span class="sxs-lookup"><span data-stu-id="a6a31-129">The date assigned is the starting date for the period that is compressed, such as the first day of the month (if the entries are compressed by month).</span></span> <span data-ttu-id="a6a31-130">Tiivistyksen jälkeen voit yhä nähdä jokaisen tilin nettomuutoksen edellisen tilikauden osalta.</span><span class="sxs-lookup"><span data-stu-id="a6a31-130">After the compression, you can still see the net change for each account in the previous fiscal year.</span></span>

<span data-ttu-id="a6a31-131">Päivämäärätiivistyksen tuloksena syntyvien tapahtumien määrä perustuu siihen, kuinka monta suodatinta asetat, mitkä kentät yhdistetään ja minkä jakson pituuden valitset.</span><span class="sxs-lookup"><span data-stu-id="a6a31-131">The number of entries that result from a date compression depends on how many filters you set, which fields are combined, and which period length you choose.</span></span> <span data-ttu-id="a6a31-132">Tapahtumia syntyy aina vähintään yksi.</span><span class="sxs-lookup"><span data-stu-id="a6a31-132">There will always be at least one entry.</span></span> <span data-ttu-id="a6a31-133">Kun eräajo on päättynyt, tulos näkyy **Tiivistysrekisterit**-sivulla.</span><span class="sxs-lookup"><span data-stu-id="a6a31-133">When the batch job is finished, you can see the result in the **Date Compr. Registers** page.</span></span>

<span data-ttu-id="a6a31-134">Voit pakata seuraavan tyyppisiä tietoja [!INCLUDE [prod_short](includes/prod_short.md)] -ohjelmassa eräajojen avulla:</span><span class="sxs-lookup"><span data-stu-id="a6a31-134">You can compress the following types of data in [!INCLUDE [prod_short](includes/prod_short.md)] using batch jobs:</span></span>

* <span data-ttu-id="a6a31-135">Pankkitilitapahtumat</span><span class="sxs-lookup"><span data-stu-id="a6a31-135">Bank account ledger entries</span></span>

  <span data-ttu-id="a6a31-136">Tiivistyksen jälkeen **Säilytä kentän sisältö** -toiminnon avulla voit myös säilyttää seuraavien kenttien sisällön: **Asiakirjan nro, Kontaktimme**, **Globaali dimensio 1 koodi** ja **Globaali dimensio 2 koodi**.</span><span class="sxs-lookup"><span data-stu-id="a6a31-136">After the compression, with the **Retain Field Contents** facility, you can retain the contents of the **Document No., Our Contact**, **Global Dimension 1 Code**, and **Global Dimension 2 Code** fields.</span></span>
* <span data-ttu-id="a6a31-137">Toimittajatapahtumat</span><span class="sxs-lookup"><span data-stu-id="a6a31-137">Vendor ledger entries</span></span>

  <span data-ttu-id="a6a31-138">Tiivistyksen jälkeen seuraavien kenttien sisältö säilytetään aina: **Kirjauspvm**, **Toimittajanro**, **Asiakirjan tyyppi**, **Valuutan koodi**, **Kirjausryhmä**, **Summa**, **Jäljellä oleva summa**, **Alkuperäinen summa (PVA)**, **Jäljellä oleva summa (PVA)**, **Summa (PVA)**, **Osto (PVA)**, **Laskualennus (PVA)**, **Annettu maksualennus (PVA)** ja **Maksualennus mahdollinen**.</span><span class="sxs-lookup"><span data-stu-id="a6a31-138">After the compression, the contents of the following fields are always retained: **Posting Date**, **Vendor No.**, **Document Type**, **Currency Code**, **Posting Group**, **Amount**, **Remaining Amount**, **Original Amt. (LCY)**, **Remaining Amt. (LCY)**, **Amount (LCY)**, **Purchase (LCY)**, **Inv. Discount (LCY)**, **Pmt. Disc. Given (LCY)**, and **Pmt. Disc. Possible**.</span></span>

  <span data-ttu-id="a6a31-139">**Säilytä kentän sisältö** -ominaisuuden avulla voidaan säilyttää myös seuraavien lisäkenttien sisältö: **Asiakirjan nro**, **Tavarantoimittajan nro**, **Ostokoodi**, **Globaali dimensio 1 koodi** ja **Globaali dimensio 2 koodi**.</span><span class="sxs-lookup"><span data-stu-id="a6a31-139">With the **Retain Field Contents** facility, you can also retain the contents of these additional fields: **Document No.**, **Buy-from Vendor No.**, **Purchaser Code**, **Global Dimension 1 Code**, and **Global Dimension 2 Code**.</span></span>

> [!NOTE]
> <span data-ttu-id="a6a31-140">Kun olet suorittanut päivämäärien tiivistyksen, kaikki kirjanpidon tilit on lukittu.</span><span class="sxs-lookup"><span data-stu-id="a6a31-140">After you run date compression, all accounts in the ledger are locked.</span></span> <span data-ttu-id="a6a31-141">Et voi esimerkiksi poistaa toimittaja- tai pankkitapahtumien kohdistamista millekään tilille sen kauden osalta, jonka ajalta päivämäärät tiivistetään.</span><span class="sxs-lookup"><span data-stu-id="a6a31-141">For example, you cannot un-apply vendor or bank ledger entries for any accounts during the period for which dates are compressed.</span></span>

<!--* General ledger entries
* Customer ledger entries-->
<!--* Fixed asset ledger entries
* G/L budget entries
* VAT entries

  After the compression the contents of the following fields are always retained: **Posting Date**, **Type**, **Closed**, **Gen. Bus. Posting Group**, **Gen. Prod. Posting Group**, **VAT Calculation Type**, **Base**, and **Amount**.

  With the **Retain Field Contents** facility, you can also retain the contents of the following additional fields: **Document No.**, **Bill-to/Pay-to No.**, **EU 3-Party Trade**, **Country/Region Code**, and **Internal Ref. No.**.
* Insurance ledger entries
* Maintenance ledger entries
* Resource ledger entries

  After the compression, the contents of the following fields are retained: **Posting Date**, **Resource No.**, **Resource Group No.**, **Entry Type**, **Quantity**, **Total Cost**, **Total Price**, and **Chargeable**.

  With the **Retain Field Contents** facility, you can also retain the contents of the following additional fields: **Document No.**, **Work Type Code**, **Job No.**, **Unit of Measure Code**, **Source Type**, **Source No.**. **Chargeable**, **
* Warehouse entries

  After the compression the contents of the following fields are always retained: **Registering Date**, **Location Code**, **Zone Code**, **Bin Code**, **Item No.**, **Quantity**, **Qty. (Base)**, **Bin Type Code**, **Entry Type**, **Variant Code**, **Qty. per Unit of Measure**, **Unit of Measure Code**, **Warranty Date**, **Expiration Date**, **Cubage**, and **Weight**.

  With the **Retain Field Contents** facility, you can also retain the contents of the **Serial No.** and **Lot No.** fields. -->

<span data-ttu-id="a6a31-142">Päivämäärätiivistys-eräajon tuloksena syntyvien tapahtumien määrä perustuu siihen, kuinka monta suodatinta asetat, mitkä kentät yhdistetään ja minkä jakson pituuden valitset.</span><span class="sxs-lookup"><span data-stu-id="a6a31-142">The number of entries that result from a Date Compress batch job depends on how many filters you set, which fields are combined, and which period length you choose.</span></span> <span data-ttu-id="a6a31-143">Tapahtumia syntyy aina vähintään yksi.</span><span class="sxs-lookup"><span data-stu-id="a6a31-143">There will always be at least one entry.</span></span> 

> [!WARNING]
> <span data-ttu-id="a6a31-144">Tiivistys poistaa tapahtumia, joten aina ennen kuin aloitat eräajon, tee varmuuskopio tietokannasta.</span><span class="sxs-lookup"><span data-stu-id="a6a31-144">Date Compression deletes entries, so you should always make a backup copy of the database before you run the batch job.</span></span>

<span data-ttu-id="a6a31-145">Seuraava taulukko sisältää **Vaihtoehdot**-pikavälilehden kentät, jotka ovat käytettävissä kaikissa erätöissä.</span><span class="sxs-lookup"><span data-stu-id="a6a31-145">The following table lists the fields on the **Options** FastTab that are available on all batch jobs.</span></span> <span data-ttu-id="a6a31-146">**Säilytä kentän sisältö** -osassa on lisäkenttiä.</span><span class="sxs-lookup"><span data-stu-id="a6a31-146">The **Retain Field Contents** section includes additional fields are described above.</span></span>

|<span data-ttu-id="a6a31-147">Kenttä</span><span class="sxs-lookup"><span data-stu-id="a6a31-147">Field</span></span>  |<span data-ttu-id="a6a31-148">Kuvaus</span><span class="sxs-lookup"><span data-stu-id="a6a31-148">Description</span></span>  |
|-------|-------------|
|<span data-ttu-id="a6a31-149">Aloituspvm</span><span class="sxs-lookup"><span data-stu-id="a6a31-149">Starting Date</span></span>     |<span data-ttu-id="a6a31-150">Syötä ensimmäinen tiivistykseen sisällytettävä päivämäärä.</span><span class="sxs-lookup"><span data-stu-id="a6a31-150">Enter the first date to be included in the date compression.</span></span> <span data-ttu-id="a6a31-151">Tiivistys vaikuttaa kaikkiin tapahtumiin tästä päivästä lähtien aina lopetuspäivämäärään asti.</span><span class="sxs-lookup"><span data-stu-id="a6a31-151">The compression will affect all entries from this date to the Ending Date.</span></span>|
|<span data-ttu-id="a6a31-152">Lopetuspvm</span><span class="sxs-lookup"><span data-stu-id="a6a31-152">Ending Date</span></span>     |<span data-ttu-id="a6a31-153">Syötä viimeinen tiivistykseen sisällytettävä päivämäärä.</span><span class="sxs-lookup"><span data-stu-id="a6a31-153">Enter the last date to be included in the date compression.</span></span> <span data-ttu-id="a6a31-154">Tiivistys vaikuttaa kaikkiin tapahtumiin aloituspäivämäärästä lähtien aina tähän päivään asti.</span><span class="sxs-lookup"><span data-stu-id="a6a31-154">The compression will affect all entries from the Starting Date to this date.</span></span>|
|<span data-ttu-id="a6a31-155">Jakson pituus</span><span class="sxs-lookup"><span data-stu-id="a6a31-155">Period Length</span></span> |<span data-ttu-id="a6a31-156">Valitse pituus jaksolle, jonka tapahtumat yhdistetään.</span><span class="sxs-lookup"><span data-stu-id="a6a31-156">Select the length of the period whose entries will be combined.</span></span> <span data-ttu-id="a6a31-157">Valitsemalla kentän näet vaihtoehdot.</span><span class="sxs-lookup"><span data-stu-id="a6a31-157">Choose the field to see the options.</span></span> <span data-ttu-id="a6a31-158">Jos olet valinnut jakson pituudeksi vaihtoehdon *Vuosineljännes*, *Kuukausi* tai *Viikko*, tiivistyksen kohteeksi tulevat vain ne tapahtumat, joilla on yhteinen kirjanpitojakso.</span><span class="sxs-lookup"><span data-stu-id="a6a31-158">If you selected the period length *Quarter*, *Month*, or *Week*, only entries with a common accounting period are compressed.</span></span>|
|<span data-ttu-id="a6a31-159">Säilytä kentän sisältö</span><span class="sxs-lookup"><span data-stu-id="a6a31-159">Retain Field Contents</span></span>     |<span data-ttu-id="a6a31-160">Lisää rasti ruutuihin, jos haluat säilyttää tiettyjen kenttien sisällön, vaikka tapahtumat tiivistetään.</span><span class="sxs-lookup"><span data-stu-id="a6a31-160">Place check marks in the boxes if you want to retain the contents of certain fields even though the entries are compressed.</span></span> <span data-ttu-id="a6a31-161">Mitä useamman kentän valitset, sitä yksityiskohtaisempia tiivistetyt tapahtumat ovat.</span><span class="sxs-lookup"><span data-stu-id="a6a31-161">The more fields you select, the more detailed the compressed entries will be.</span></span> <span data-ttu-id="a6a31-162">Jos et valitse mitään näistä kentistä, eräajo luo yhden tapahtuman päivää, viikkoa tai muuta jaksoa kohti, riippuen jaksosta, jonka valitsit **Jakson pituus** -kentässä.</span><span class="sxs-lookup"><span data-stu-id="a6a31-162">If you do not select any of these fields, the batch job will create one entry per day, week, or another period, according to the period selected in the **Period Length** field.</span></span> |

## <a name="see-also"></a><span data-ttu-id="a6a31-163">Katso myös</span><span class="sxs-lookup"><span data-stu-id="a6a31-163">See Also</span></span>

[<span data-ttu-id="a6a31-164">Hallinta</span><span class="sxs-lookup"><span data-stu-id="a6a31-164">Administration</span></span>](admin-setup-and-administration.md)  
