---
title: "Ostojen hyväksyntätyönkulun määrittäminen ja käyttäminen | Microsoft Docs"
description: "Voit automatisoida uusien tai muuttuneiden tietueiden hyväksymisprosessin esimerkiksi asiakirjojen, kirjausrivien ja asiakaskorttien kohdalla luomalla työnkulkuihin hyväksymisvaiheet. Ennen kuin luot hyväksymistyönkulkuja, määritä hyväksyjä ja varahyväksyjä jokaiselle hyväksyjäkäyttäjälle. Voit myös määrittää hyväksyjille rajat niille myynti -ja ostotietueille, joita he saavat hyväksyä. Hyväksymispyynnöt ja muut ilmoitukset voidaan lähettää sähköpostina tai sisäisenä muistiona. Kunkin hyväksyjäkäyttäjän asetuksiin voit määrittää myös milloin he saavat ilmoituksia."
services: project-madeira
documentationcenter: 
author: SorenGP
ms.service: dynamics365-business-central
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: 
ms.date: 10/01/2018
ms.author: sgroespe
ms.translationtype: HT
ms.sourcegitcommit: 9dbd92409ba02281f008246194f3ce0c53e4e001
ms.openlocfilehash: f930a9a2e303c0dcc0a3604cc43b919690d6f96f
ms.contentlocale: fi-fi
ms.lasthandoff: 09/28/2018

---
# <a name="walkthrough-setting-up-and-using-a-purchase-approval-workflow"></a><span data-ttu-id="f8892-107">Vaihekuvaus: Ostojen hyväksyntä -työnkulun määrittäminen ja käyttäminen</span><span class="sxs-lookup"><span data-stu-id="f8892-107">Walkthrough: Setting Up and Using a Purchase Approval Workflow</span></span>
<span data-ttu-id="f8892-108">Voit automatisoida uusien tai muuttuneiden tietueiden hyväksymisprosessin esimerkiksi asiakirjojen, kirjausrivien ja asiakaskorttien kohdalla luomalla työnkulkuihin hyväksymisvaiheet.</span><span class="sxs-lookup"><span data-stu-id="f8892-108">You can automate the process of approving new or changed records, such as documents, journal lines, and customer cards, by creating workflows with steps for the approvals in question.</span></span> <span data-ttu-id="f8892-109">Ennen kuin luot hyväksymistyönkulkuja, määritä hyväksyjä ja varahyväksyjä jokaiselle hyväksyjäkäyttäjälle.</span><span class="sxs-lookup"><span data-stu-id="f8892-109">Before you create approval workflows, you must set up an approver and substitute approver for each approval user.</span></span> <span data-ttu-id="f8892-110">Voit myös määrittää hyväksyjille rajat niille myynti -ja ostotietueille, joita he saavat hyväksyä.</span><span class="sxs-lookup"><span data-stu-id="f8892-110">You can also set approvers’ amount limits to define which sales and purchase records they are qualified to approve.</span></span> <span data-ttu-id="f8892-111">Hyväksymispyynnöt ja muut ilmoitukset voidaan lähettää sähköpostina tai sisäisenä muistiona.</span><span class="sxs-lookup"><span data-stu-id="f8892-111">Approval requests and other notifications can be sent as email or internal note.</span></span> <span data-ttu-id="f8892-112">Voit määrittää kunkin hyväksyjäkäyttäjän asetuksiin myös milloin he saavat ilmoituksia.</span><span class="sxs-lookup"><span data-stu-id="f8892-112">For each approval user setup, you can also set up when they receive notifications.</span></span>  

 <span data-ttu-id="f8892-113">Voit määrittää ja käyttää työnkulkuja, jotka yhdistävät eri käyttäjien suorittamista liiketoimintaprosessin tehtäviä.</span><span class="sxs-lookup"><span data-stu-id="f8892-113">You can set up and use workflows that connect business-process tasks performed by different users.</span></span> <span data-ttu-id="f8892-114">Järjestelmätehtäviä (kuten automaattinen kirjaus) voidaan sisällyttää työnkulkuihin, joita käyttäjän tehtävät edeltävät tai seuraavat.</span><span class="sxs-lookup"><span data-stu-id="f8892-114">System tasks, such as automatic posting, can be included as steps in workflows, preceded or followed by user tasks.</span></span> <span data-ttu-id="f8892-115">Uusien tietueiden luontiin liittyvien hyväksyntöjen pyytäminen ja antaminen ovat tyypillisiä työnkulun osavaiheita.</span><span class="sxs-lookup"><span data-stu-id="f8892-115">Requesting and granting approval to create new records are typical workflow steps.</span></span> <span data-ttu-id="f8892-116">Lisätietoja on kohdassa [Työnkulku](across-workflow.md).</span><span class="sxs-lookup"><span data-stu-id="f8892-116">For more information, see [Workflow](across-workflow.md).</span></span>  

## <a name="about-this-walkthrough"></a><span data-ttu-id="f8892-117">Tietoja tästä vaihekuvauksesta</span><span class="sxs-lookup"><span data-stu-id="f8892-117">About This Walkthrough</span></span>  
<span data-ttu-id="f8892-118">Tässä vaihekuvauksessa käsitellään seuraavia tehtäviä:</span><span class="sxs-lookup"><span data-stu-id="f8892-118">This walkthrough illustrates the following tasks:</span></span>  

-   <span data-ttu-id="f8892-119">Hyväksyjäkäyttäjien määrittäminen (mukaan lukien käyttäjän määrittäminen Windowsissa ja [!INCLUDE[d365fin](includes/d365fin_md.md)]issa).</span><span class="sxs-lookup"><span data-stu-id="f8892-119">Setting up approval users (incl. setting up a user in Windows and in [!INCLUDE[d365fin](includes/d365fin_md.md)]).</span></span>  
-   <span data-ttu-id="f8892-120">Hyväksyjäkäyttäjien ilmoitusten määrittäminen.</span><span class="sxs-lookup"><span data-stu-id="f8892-120">Setting up notifications for approval users.</span></span>  
-   <span data-ttu-id="f8892-121">Hyväksynnän työnkulun muokkaaminen ja ottaminen käyttöön.</span><span class="sxs-lookup"><span data-stu-id="f8892-121">Modifying and enabling an approval workflow.</span></span>  
-   <span data-ttu-id="f8892-122">Ilmoituksia lähettävän työjonon aloittaminen.</span><span class="sxs-lookup"><span data-stu-id="f8892-122">Starting the job queue that dispatches notifications.</span></span>  
-   <span data-ttu-id="f8892-123">Pyytää hyväksynnän ostotilaukseen, Alicia.</span><span class="sxs-lookup"><span data-stu-id="f8892-123">Requesting approval of a purchase order, as Alicia.</span></span>  
-   <span data-ttu-id="f8892-124">Ilmoituksen vastaanottaminen ja sitten hyväksyminen, Sean.</span><span class="sxs-lookup"><span data-stu-id="f8892-124">Receiving a notification and then approving the request, as Sean.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="f8892-125">Vaatimukset</span><span class="sxs-lookup"><span data-stu-id="f8892-125">Prerequisites</span></span>  
<span data-ttu-id="f8892-126">Tarvitse tämän vaihekuvauksen loppuun viemiseen CRONUS Finland Oy -esittely-yrityksen.</span><span class="sxs-lookup"><span data-stu-id="f8892-126">To complete this walkthrough, you will need the CRONUS International Ltd. demonstration company.</span></span>

## <a name="story"></a><span data-ttu-id="f8892-127">Taustatietoja</span><span class="sxs-lookup"><span data-stu-id="f8892-127">Story</span></span>  
<span data-ttu-id="f8892-128">CRONUS-superkäyttäjä Sean on omalla tietokoneellaan.</span><span class="sxs-lookup"><span data-stu-id="f8892-128">Sean is a super user at CRONUS on his own computer.</span></span>  

<span data-ttu-id="f8892-129">Hän luo kaksi hyväksyjää.</span><span class="sxs-lookup"><span data-stu-id="f8892-129">He creates two approval users.</span></span> <span data-ttu-id="f8892-130">Yksi on Alicia, joka edustaa ostajaa.</span><span class="sxs-lookup"><span data-stu-id="f8892-130">One is Alicia who represents a purchasing agent.</span></span> <span data-ttu-id="f8892-131">Toinen on hän itse edustaen Alician hyväksyjää.</span><span class="sxs-lookup"><span data-stu-id="f8892-131">The other is himself representing Alicia’s approver.</span></span> <span data-ttu-id="f8892-132">Sean antaa itselleen rajaton ostojen hyväksyntä oikeudet ja määrittää, että hän saa ilmoituksia sisäisenä muistiona mahdollisimman pian asian tapahtumasta.</span><span class="sxs-lookup"><span data-stu-id="f8892-132">Sean then gives himself unlimited purchase approval rights and specifies that he will receive notifications by internal note as soon as a relevant event occurs.</span></span> <span data-ttu-id="f8892-133">Lopuksi Sean luon pyydetyn hyväksynnän työnkulun kopioksi olemassa olevasta ostotilauksen hyväksymisen työnkulusta jättäen kaikki olemassa olevan tapahtuman ehdot ja vastausvaihtoehdot ennalleen ja sitten ottaa työnkulun käyttöön.</span><span class="sxs-lookup"><span data-stu-id="f8892-133">Last, Sean creates the required approval workflow as a copy of the existing Purchase Order Approval Workflow workflow template, leaves all existing event conditions and response options unchanged, and then enables the workflow.</span></span>  

<span data-ttu-id="f8892-134">Sean testaa hyväksyntätyönkulkua kirjautumalla ensin [!INCLUDE[d365fin](includes/d365fin_md.md)]iin Aliciana ja pyytää ostotilauksen hyväksymistä.</span><span class="sxs-lookup"><span data-stu-id="f8892-134">To test the approval workflow, Sean first logs into [!INCLUDE[d365fin](includes/d365fin_md.md)] as Alicia, and then requests approval of a purchase order.</span></span> <span data-ttu-id="f8892-135">Sean sitten kirjautuu omalla tunnuksellaan, näkee huomautuksen hänen Roolikeskuksessa, seuraa linkkiä ostotilauksen hyväksymispyyntöön ja hyväksyy pyynnön.</span><span class="sxs-lookup"><span data-stu-id="f8892-135">Sean then logs in as himself, sees the note on his Role Center, follows the link to the approval request for the purchase order, and approves the request.</span></span>  

## <a name="setting-up-the-sample-data"></a><span data-ttu-id="f8892-136">Esimerkkitietojen määrittäminen</span><span class="sxs-lookup"><span data-stu-id="f8892-136">Setting Up the Sample Data</span></span>  
<span data-ttu-id="f8892-137">Sinun on luotava paikalliseen tietokoneeseen ja [!INCLUDE[d365fin](includes/d365fin_md.md)]iin uusi Alicia-käyttäjä, jonka valitset myöhemmin hyväksyjäkäyttäjäksi.</span><span class="sxs-lookup"><span data-stu-id="f8892-137">You must create a new user on the local computer and in [!INCLUDE[d365fin](includes/d365fin_md.md)] representing Alicia who you will later select as an approval user.</span></span> <span data-ttu-id="f8892-138">Oma käyttäjätilisi edustaa Seania.</span><span class="sxs-lookup"><span data-stu-id="f8892-138">Your own user account will represent Sean.</span></span>  

### <a name="to-add-alicia-as-a-user-on-the-local-computer"></a><span data-ttu-id="f8892-139">Voit lisätä Alisian käyttäjäksi paikalliseen tietokoneeseen</span><span class="sxs-lookup"><span data-stu-id="f8892-139">To add Alicia as a user on the local computer</span></span>  

1.  <span data-ttu-id="f8892-140">Valitse **Käynnistä** **Hae ohjelmista ja tiedostoista** -ruudussa, anna **Muokkaa paikallisia käyttäjiä ja ryhmiä**, ja valitse sitten aiheeseen liittyvä linkki.</span><span class="sxs-lookup"><span data-stu-id="f8892-140">Choose **Start**, in the **Search programs and files** box, enter **Edit local users and groups**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="f8892-141">Avaa **Käyttäjät**-kansio.</span><span class="sxs-lookup"><span data-stu-id="f8892-141">Open the **Users** folder.</span></span>  
3.  <span data-ttu-id="f8892-142">Valitse **Toiminnot**-välilehdessä **Uusi käyttäjä**.</span><span class="sxs-lookup"><span data-stu-id="f8892-142">On the **Actions** tab, choose **New User**.</span></span>  
4.  <span data-ttu-id="f8892-143">Kirjoita **Käyttäjänimi**-kenttään Alicia.</span><span class="sxs-lookup"><span data-stu-id="f8892-143">In the **User Name** field, enter Alicia.</span></span>  
5.  <span data-ttu-id="f8892-144">Kirjoita **Salasana**- ja **Vahvista salasana** -kenttiin kelvollinen salasana.</span><span class="sxs-lookup"><span data-stu-id="f8892-144">In the **Password** and **Confirm Password** fields, enter a valid password.</span></span>  
6.  <span data-ttu-id="f8892-145">Sinun täytyy tyhjentää **Käyttäjän on vaihdettava salasana seuraavan sisäänkirjautumisen yhteydessä** -valintaruutu.</span><span class="sxs-lookup"><span data-stu-id="f8892-145">Deselect the **User must change password at next logon** check box.</span></span>  
7.  <span data-ttu-id="f8892-146">Sulje **Paikalliset käyttäjät ja ryhmät** -ikkuna.</span><span class="sxs-lookup"><span data-stu-id="f8892-146">Close the **Local Users and Groups** window.</span></span>  

### <a name="to-add-alicia-as-a-user-in-included365finincludesd365finmdmd"></a><span data-ttu-id="f8892-147">Alicia lisääminen [!INCLUDE[d365fin](includes/d365fin_md.md)]iin käyttäjänä</span><span class="sxs-lookup"><span data-stu-id="f8892-147">To add Alicia as a user in [!INCLUDE[d365fin](includes/d365fin_md.md)]</span></span>  
1.  <span data-ttu-id="f8892-148">Valitse ![Lamppu, joka avaa Kerro, mitä haluat tehdä -toiminnon](media/ui-search/search_small.png "Kerro, mitä haluat tehdä") -kuvake, syötä **Käyttäjät** ja valitse sitten liittyvä linkki.</span><span class="sxs-lookup"><span data-stu-id="f8892-148">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Users**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="f8892-149">Valitse **Windows-käyttäjät** -ikkunan **Koti**-välilehden **Uusi**-ryhmässä **Uusi**.</span><span class="sxs-lookup"><span data-stu-id="f8892-149">In the **Windows Users** window, on the **Home** tab, in the **New** group, choose **New**.</span></span>  
3.  <span data-ttu-id="f8892-150">Anna -**Käyttäjän kortti** -ikkunan **Käyttäjänimi**-kenttään Alicia.</span><span class="sxs-lookup"><span data-stu-id="f8892-150">In the **User Card** window, in the **User Name** field, enter Alicia.</span></span>  
4.  <span data-ttu-id="f8892-151">Valitse **Windows-käyttäjänimi**-kentässä AssistEdit.</span><span class="sxs-lookup"><span data-stu-id="f8892-151">In the **Windows User Name** field, choose the AssistEdit button.</span></span>  
5.  <span data-ttu-id="f8892-152">Kirjoita **Valitse käyttäjä tai ryhmä** -ikkunassa **Kirjoita valittavien kohteitten nimet** -kenttään Alicia ja valitse sitten **Tarkista nimet** -painike.</span><span class="sxs-lookup"><span data-stu-id="f8892-152">In the **Select User or Group**, window, in the **Enter the object name to select** field, enter Alicia, and then choose the **Check Names** button.</span></span>  
6.  <span data-ttu-id="f8892-153">Kun [TIETOKONEEN NIMI]ALICIA näkyy kentässä, valitse **OK**.</span><span class="sxs-lookup"><span data-stu-id="f8892-153">When [COMPUTER NAME]ALICIA appears in the field, choose the **OK** button.</span></span>  
7.  <span data-ttu-id="f8892-154">Valitse **Käyttöoikeuksien joukot**-pikavälilehdessä **Käyttöoikeuksien joukko** -kentässä **SUPER**.</span><span class="sxs-lookup"><span data-stu-id="f8892-154">On the **User Permission Sets** FastTab, in the **Permission Set** field, select **SUPER**.</span></span>  
8.  <span data-ttu-id="f8892-155">Valitse **Yritys**-kentässä **CRONUS International Ltd.**</span><span class="sxs-lookup"><span data-stu-id="f8892-155">In the **Company** field, select **CRONUS International Ltd.**</span></span>  
9. <span data-ttu-id="f8892-156">Valitse **OK**-painike.</span><span class="sxs-lookup"><span data-stu-id="f8892-156">Choose the **OK** button.</span></span>  

## <a name="setting-up-approval-users"></a><span data-ttu-id="f8892-157">Hyväksyjäkäyttäjien määrittäminen</span><span class="sxs-lookup"><span data-stu-id="f8892-157">Setting Up Approval Users</span></span>  
<span data-ttu-id="f8892-158">Käyttämällä Windows-käyttäjää, joka on juuri luotu, määritä Alicia hyväksyjäkäyttäjäksi, jonka hyväksyjä olet itse.</span><span class="sxs-lookup"><span data-stu-id="f8892-158">Using the Windows user that you have just created, set Alicia up as an approval user whose approver is yourself.</span></span> <span data-ttu-id="f8892-159">Aseta hyväksyntäoikeutesi ja määritä, miten ja milloin sinulle ilmoitetaan hyväksymispyynnöt.</span><span class="sxs-lookup"><span data-stu-id="f8892-159">Set up your approval rights and specify how and when you are notified of approval requests.</span></span>  

### <a name="to-set-up-yourself-and-alicia-as-approval-users"></a><span data-ttu-id="f8892-160">Määritä itsesi ja Alicia hyväksyjäkäyttäjiksi</span><span class="sxs-lookup"><span data-stu-id="f8892-160">To set up yourself and Alicia as approval users</span></span>  
1.  <span data-ttu-id="f8892-161">Valitse ![Lamppu, joka avaa Kerro, mitä haluat tehdä -toiminnon](media/ui-search/search_small.png "Kerro, mitä haluat tehdä") -kuvake, syötä **Hyväksynnän käyttäjäasetukset** ja valitse sitten liittyvä linkki.</span><span class="sxs-lookup"><span data-stu-id="f8892-161">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Approval User Setup**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="f8892-162">Valitse **Hyväksynnän käyttäjäasetukset** -ikkunan **Koti**-välilehden **Uusi**-ryhmässä **Uusi**.</span><span class="sxs-lookup"><span data-stu-id="f8892-162">In the **Approval User Setup** window, on the **Home** tab, in the **New** group, choose **New**.</span></span>  

    > [!NOTE]  
    >  <span data-ttu-id="f8892-163">Hyväksyjä täytyy määrittää ennen kuin voit määrittää käyttäjiä, jotka tarvitsevat tämän hyväksyjän hyväksynnän.</span><span class="sxs-lookup"><span data-stu-id="f8892-163">You must set up an approver before you can set up users who require that approver's approval.</span></span> <span data-ttu-id="f8892-164">Siksi sinun on määritettävä itsesi ennen kuin voit määrittää Alician.</span><span class="sxs-lookup"><span data-stu-id="f8892-164">Therefore, you must set up yourself before you set up Alicia.</span></span>  

3.  <span data-ttu-id="f8892-165">Voit määrittää kaksi hyväksyjäkäyttäjää täyttämällä kentät seuraavassa taulukossa kuvatulla tavalla.</span><span class="sxs-lookup"><span data-stu-id="f8892-165">Set up the two approval users by filling the fields as described in the following table.</span></span>  

    |<span data-ttu-id="f8892-166">Käyttäjätunnus</span><span class="sxs-lookup"><span data-stu-id="f8892-166">User ID</span></span>|<span data-ttu-id="f8892-167">Hyväksyjän tunnus</span><span class="sxs-lookup"><span data-stu-id="f8892-167">Approver ID</span></span>|<span data-ttu-id="f8892-168">Rajaton ostojen hyväksyntä</span><span class="sxs-lookup"><span data-stu-id="f8892-168">Unlimited Purchase Approval</span></span>|  
    |-------------|-----------------|---------------------------------|  
    |<span data-ttu-id="f8892-169">[TIETOKONEEN NIMI][SINÄ]</span><span class="sxs-lookup"><span data-stu-id="f8892-169">[COMPUTER NAME][YOU]</span></span>||<span data-ttu-id="f8892-170">Valittu</span><span class="sxs-lookup"><span data-stu-id="f8892-170">Selected</span></span>|  
    |<span data-ttu-id="f8892-171">[TIETOKONEEN NIMI]ALICIA</span><span class="sxs-lookup"><span data-stu-id="f8892-171">[COMPUTER NAME]ALICIA</span></span>|<span data-ttu-id="f8892-172">[TIETOKONEEN NIMI][SINÄ]</span><span class="sxs-lookup"><span data-stu-id="f8892-172">[COMPUTER NAME][YOU]</span></span>||  

## <a name="setting-up-notifications"></a><span data-ttu-id="f8892-173">Ilmoitusten määrittäminen</span><span class="sxs-lookup"><span data-stu-id="f8892-173">Setting Up Notifications</span></span>  
<span data-ttu-id="f8892-174">Määritä, miten ja milloin ilmoitetaan hyväksymispyynnöt.</span><span class="sxs-lookup"><span data-stu-id="f8892-174">Specify how and when you are notified of approval requests.</span></span>  

### <a name="to-set-up-how-and-when-you-are-notified"></a><span data-ttu-id="f8892-175">Voit määrittää, miten ja milloin saat ilmoituksen</span><span class="sxs-lookup"><span data-stu-id="f8892-175">To set up how and when you are notified</span></span>  
1.  <span data-ttu-id="f8892-176">Valitse **Hyväksynnän käyttäjäasetukset** -ikkunassa rivi itseäsi varten ja valitse sitten **Koti** -välilehdessä **Prosessi**-ryhmässä **Ilmoituksen asetukset**.</span><span class="sxs-lookup"><span data-stu-id="f8892-176">In the **Approval User Setup** window, select the line for yourself, and then on the **Home** tab, in the **Process** group, choose **Notification Setup**.</span></span>  
2.  <span data-ttu-id="f8892-177">Anna **Ilmoituksen asetukset** -ikkunan **Ilmoitustyyppi**-kentässä **Hyväksyntä**.</span><span class="sxs-lookup"><span data-stu-id="f8892-177">In the **Notification Setup** window, in the **Notification Type** field, enter **Approval**.</span></span>  
3.  <span data-ttu-id="f8892-178">Valitse **Ilmoitusmallin koodi** -kenttä ja sitten **Lisäasetukset**-painike.</span><span class="sxs-lookup"><span data-stu-id="f8892-178">Choose the **Notification Template Code** field, and then choose the **Advanced** button.</span></span>  
4.  <span data-ttu-id="f8892-179">Valitse **Ilmoitusmallit**-ikkunan **Kotisivu**-välilehden **Hallinta**-ryhmässä **Muokkaa luetteloa**.</span><span class="sxs-lookup"><span data-stu-id="f8892-179">In the **Notification Templates** window, on the **Home** tab, in the **Manage** group, choose **Edit List**.</span></span>  
5.  <span data-ttu-id="f8892-180">Anna HYVÄKSYNTÄ-mallin rivillä **Ilmoitusmenetelmä**-kenttään **Huomautus**.</span><span class="sxs-lookup"><span data-stu-id="f8892-180">On the line for the APPROVAL template, in the **Notification Method** field, enter **Note**.</span></span>  
6.  <span data-ttu-id="f8892-181">Valitse **OK**-painike.</span><span class="sxs-lookup"><span data-stu-id="f8892-181">Choose the **OK** button.</span></span>  
7.  <span data-ttu-id="f8892-182">Valitse **Ilmoituksen asetukset** -ikkunan **Kotisivu**-välilehden **Käsittely**-ryhmässä **Ilmoitusaikataulu**.</span><span class="sxs-lookup"><span data-stu-id="f8892-182">In the **Notification Setup** window, on the **Home** tab, in the **Process** group, choose **Notification Schedule**.</span></span>  
8.  <span data-ttu-id="f8892-183">Valitse **Ilmoitusaikataulu**-ikkunan **Esiintymä**-kentässä **Heti**.</span><span class="sxs-lookup"><span data-stu-id="f8892-183">In the **Notification Schedule** window, in the **Occurence** field, choose **Instantly**.</span></span>  
9. <span data-ttu-id="f8892-184">Valitse **OK**-painike.</span><span class="sxs-lookup"><span data-stu-id="f8892-184">Choose the **OK** button.</span></span>  

## <a name="creating-the-approval-workflow"></a><span data-ttu-id="f8892-185">Hyväksymisen työnkulun luominen</span><span class="sxs-lookup"><span data-stu-id="f8892-185">Creating the Approval Workflow</span></span>  
 <span data-ttu-id="f8892-186">Luo ostotilauksen hyväksymisen työnkulku kopioimalla vaiheet ostotilauksen hyväksymisen työnkulun mallista.</span><span class="sxs-lookup"><span data-stu-id="f8892-186">Create the purchase order approval workflow by copying the steps from the Purchase Order Approval Workflow workflow template.</span></span> <span data-ttu-id="f8892-187">Jätä ennalleen nykyisen työnkulun vaiheet ja ota työnkulku käyttöön.</span><span class="sxs-lookup"><span data-stu-id="f8892-187">Leave the existing workflow steps unchanged, and then enable the workflow.</span></span>  

### <a name="to-create-and-enable-a-purchase-order-approval-workflow"></a><span data-ttu-id="f8892-188">Ostotilauksen hyväksymisen työnkulun luominen ja lähettäminen</span><span class="sxs-lookup"><span data-stu-id="f8892-188">To create and enable a purchase order approval workflow</span></span>  
1.  <span data-ttu-id="f8892-189">Valitse ![Lamppu, joka avaa Kerro, mitä haluat tehdä -toiminnon](media/ui-search/search_small.png "Kerro, mitä haluat tehdä") -kuvake, syötä **Työnkulut** ja valitse sitten liittyvä linkki.</span><span class="sxs-lookup"><span data-stu-id="f8892-189">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Workflows**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="f8892-190">Valitse **Työnkulut**-ikkunan **Toiminnot**-välilehden **Yleiset**-ryhmässä **Luo työnkulku mallista**.</span><span class="sxs-lookup"><span data-stu-id="f8892-190">In the **Workflows** window, on the **Actions** tab, in the **General** group, choose **Create Workflow from Template**.</span></span>  
3.  <span data-ttu-id="f8892-191">Valitse **Toiminnot**-välilehden **Yleiset**-ryhmässä **Luo työnkulku mallista**.</span><span class="sxs-lookup"><span data-stu-id="f8892-191">On the **Actions** tab, in the **General** group, choose **Create Workflow from Template**.</span></span> <span data-ttu-id="f8892-192">**Työnkulkumallit**-ikkuna avautuu.</span><span class="sxs-lookup"><span data-stu-id="f8892-192">The **Workflow Templates** window opens.</span></span>  
4.  <span data-ttu-id="f8892-193">Valitse työnkulkumalli nimeltä Ostotilauksen hyväksymistyönkulku ja valitse sitten **OK**.</span><span class="sxs-lookup"><span data-stu-id="f8892-193">Select the workflow template named Purchase Order Approval Workflow, and then choose the **OK** button.</span></span>  

    <span data-ttu-id="f8892-194">Uuden työnkulun avautuvassa **Työnkulku**-ikkunassa on kaikki valitun mallin tiedot.</span><span class="sxs-lookup"><span data-stu-id="f8892-194">The **Workflow** window opens for a new workflow containing all the information of the selected template.</span></span> <span data-ttu-id="f8892-195">**Koodi**-kentän arvoon liitetään -01, joka osoittaa, että kyseessä on ensimmäinen Ostotilauksen hyväksymistyönkulku -mallista luotu työnkulku.</span><span class="sxs-lookup"><span data-stu-id="f8892-195">The value in the **Code** field is extended with “-01” to indicate that this is the first workflow that is created from the Purchase Order Approval Workflow workflow template.</span></span>  
5.  <span data-ttu-id="f8892-196">Valitse **Työnkulku**-ikkunan otsikossa **Käytössä**-valintaruutu.</span><span class="sxs-lookup"><span data-stu-id="f8892-196">On the header of the **Workflow** window, select the **Enabled** check box.</span></span>  

## <a name="starting-a-notification-job-queue"></a><span data-ttu-id="f8892-197">Ilmoitusten työjonon käynnistys</span><span class="sxs-lookup"><span data-stu-id="f8892-197">Starting a Notification Job Queue</span></span>  
<span data-ttu-id="f8892-198">Varmista, että järjestelmäsi työjono on määritetty käsittelemään työnkulun ilmoituksia.</span><span class="sxs-lookup"><span data-stu-id="f8892-198">Make sure that a job queue in your installation is set up to handle workflow notifications.</span></span>  

### <a name="to-start-the-notify-job-queue"></a><span data-ttu-id="f8892-199">Käynnistä ILMOITA-työjono</span><span class="sxs-lookup"><span data-stu-id="f8892-199">To start the NOTIFY job queue</span></span>  
1.  <span data-ttu-id="f8892-200">Valitse ![Lamppu, joka avaa Kerro, mitä haluat tehdä -toiminnon](media/ui-search/search_small.png "Kerro, mitä haluat tehdä") -kuvake, syötä **Työjonot** ja valitse sitten liittyvä linkki.</span><span class="sxs-lookup"><span data-stu-id="f8892-200">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Job Queues**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="f8892-201">Valitse **Työjonot**-ikkunassa ILMOITA-työjonon rivi ja valitse sitten **Kotisivu**-välilehden **Käsittely**-ryhmässä **Käynnistä työjono**.</span><span class="sxs-lookup"><span data-stu-id="f8892-201">In the **Job Queues** window, select the line for the NOTIFY job queue, and then, on the **Home** tab, in the **Process** group, choose **Start Job Queue**.</span></span>  

## <a name="using-the-approval-workflow"></a><span data-ttu-id="f8892-202">Hyväksymisen työnkulun käyttäminen</span><span class="sxs-lookup"><span data-stu-id="f8892-202">Using the Approval Workflow</span></span>  
<span data-ttu-id="f8892-203">Käytä uutta ostotilauksen hyväksymistyönkulkua kirjautumalla ensin [!INCLUDE[d365fin](includes/d365fin_md.md)]iin Aliciana ja pyydä ostotilauksen hyväksyntää.</span><span class="sxs-lookup"><span data-stu-id="f8892-203">Use the new Purchase Order Approval Workflow workflow by first logging into [!INCLUDE[d365fin](includes/d365fin_md.md)] as Alicia to request approval of a purchase order.</span></span> <span data-ttu-id="f8892-204">Kirjaudu sitten sisään itsenäsi, katso muistio Roolikeskuksessa, seuraa linkkiä hyväksymispyyntöön ja Hyväksy pyyntö.</span><span class="sxs-lookup"><span data-stu-id="f8892-204">Then log in as yourself, view the note on the Role Center, follow the link to the approval request, and then approve the request.</span></span>  

<span data-ttu-id="f8892-205">Voit kirjautua [!INCLUDE[d365fin](includes/d365fin_md.md)]iin eri käyttäjänä **Suorita toisena käyttäjänä** -toiminnolla.</span><span class="sxs-lookup"><span data-stu-id="f8892-205">To log into [!INCLUDE[d365fin](includes/d365fin_md.md)] as different users, you will use the **Run as different user** function.</span></span>  

### <a name="to-log-into-included365finincludesd365finmdmd-as-alicia"></a><span data-ttu-id="f8892-206">Kirjautuminen [!INCLUDE[d365fin](includes/d365fin_md.md)]iin Aliciana</span><span class="sxs-lookup"><span data-stu-id="f8892-206">To log into [!INCLUDE[d365fin](includes/d365fin_md.md)] as Alicia</span></span>  

1.  <span data-ttu-id="f8892-207">Paina [!INCLUDE[d365fin](includes/d365fin_md.md)]-verkkoasiakasohjelmassa selaimen verkkosivun käynnistyspainiketta VAIHTO-näppäimellä ja hiiren kakkospainikkeella ja valitse sitten **Suorita toisena käyttäjänä**.</span><span class="sxs-lookup"><span data-stu-id="f8892-207">For the [!INCLUDE[d365fin](includes/d365fin_md.md)] web client, on the browser launch button for the web page, press Shift + Right-Click, and then choose **Run as different user**.</span></span>  

    <span data-ttu-id="f8892-208">Paina [!INCLUDE[d365fin](includes/d365fin_md.md)]in Windows-asiakasohjelmassa ohjelman käynnistyspainiketta VAIHTO-näppäimellä ja hiiren kakkospainikkeella ja valitse sitten **Suorita toisena käyttäjänä**.</span><span class="sxs-lookup"><span data-stu-id="f8892-208">For the [!INCLUDE[d365fin](includes/d365fin_md.md)] Windows client, on the launch button for the program, press Shift + Right-Click, and then choose **Run as different user**.</span></span>  

2.  <span data-ttu-id="f8892-209">Anna**Windowsin suojaus** -ikkunassa [TIETOKONEEN NIMI]ALICIA ja tarvittava salasana.</span><span class="sxs-lookup"><span data-stu-id="f8892-209">In the **Windows Security** window, enter [COMPUTER NAME]ALICIA and the required password.</span></span>  

### <a name="to-request-approval-of-a-purchase-order-as-alicia"></a><span data-ttu-id="f8892-210">Pyydä hyväksyntä ostotilaukseen, Aliciana</span><span class="sxs-lookup"><span data-stu-id="f8892-210">To request approval of a purchase order, as Alicia</span></span>  

1.  <span data-ttu-id="f8892-211">Valitse ![Lamppu, joka avaa Kerro, mitä haluat tehdä -toiminnon](media/ui-search/search_small.png "Kerro, mitä haluat tehdä") -kuvake, syötä **Ostotilaukset** ja valitse sitten liittyvä linkki.</span><span class="sxs-lookup"><span data-stu-id="f8892-211">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Purchase Orders**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="f8892-212">Valitse rivi, jossa on ostotilaus 104001. Valitse sitten **Koti**-välilehdessä **Hallinta**-ryhmässä **Muokkaa**.</span><span class="sxs-lookup"><span data-stu-id="f8892-212">Select the line for open purchase order 104001, and then on the **Home** tab, in the **Manage** group, choose **Edit**.</span></span>  
3.  <span data-ttu-id="f8892-213">Valitse **Ostotilaus**-ikkunan **Toiminnot**-välilehden **Hyväksyntä**-ryhmässä **Lähetä hyväksymispyyntö**.</span><span class="sxs-lookup"><span data-stu-id="f8892-213">In the **Purchase Order** window, on the **Actions** tab, in the **Approval** group, choose **Send Approval Request**.</span></span>  

    <span data-ttu-id="f8892-214">Huomaa, että arvo **Tila**-kentässä on nyt **Odottaa hyväksyntää**.</span><span class="sxs-lookup"><span data-stu-id="f8892-214">Notice that the value in the **Status** field has changed to **Pending Approval**.</span></span>  

4.  <span data-ttu-id="f8892-215">Sulje [!INCLUDE[d365fin](includes/d365fin_md.md)].</span><span class="sxs-lookup"><span data-stu-id="f8892-215">Close [!INCLUDE[d365fin](includes/d365fin_md.md)].</span></span>  

### <a name="to-approve-the-purchase-order-as-sean"></a><span data-ttu-id="f8892-216">Hyväksy ostotilaus, Seanina</span><span class="sxs-lookup"><span data-stu-id="f8892-216">To approve the purchase order, as Sean</span></span>  

1.  <span data-ttu-id="f8892-217">Avaa [!INCLUDE[d365fin](includes/d365fin_md.md)] tavalliseen tapaan.</span><span class="sxs-lookup"><span data-stu-id="f8892-217">Open [!INCLUDE[d365fin](includes/d365fin_md.md)] as you generally do.</span></span> <span data-ttu-id="f8892-218">Ohjelma avautuu sinä käyttäjänä.</span><span class="sxs-lookup"><span data-stu-id="f8892-218">The program will open with you as the user.</span></span>  
2.  <span data-ttu-id="f8892-219">Katso Roolikeskuksessasi **Omat ilmoitukset** -ikkunassa uuden muistiinpano Alicialta.</span><span class="sxs-lookup"><span data-stu-id="f8892-219">On the Role Center, in the **My Notifications** window, look for a new note from Alicia.</span></span>  

    > [!NOTE]  
    >  <span data-ttu-id="f8892-220">Vaikka ilmoituksen toistumiseksi on määritetty **heti**, huomautus saapuu noin minuutin kuluttua siitä kun Alicia lähettää hyväksymispyynnön.</span><span class="sxs-lookup"><span data-stu-id="f8892-220">Although the notification recurrence is set to **Instantly**, the note will arrive approximately one minute after Alicia sent the approval request.</span></span> <span data-ttu-id="f8892-221">Tämä johtuu oletusarvoisesta työjono-ominaisuuden toistumistiheydestä.</span><span class="sxs-lookup"><span data-stu-id="f8892-221">This is due to the default recurrence frequency of the Job Queue feature.</span></span>  

3.  <span data-ttu-id="f8892-222">Kun huomautus näkyy **Omat ilmoitukset** -ikkunassa, valitse **Hyväksymistapahtuma: XX, XX** -arvo **Sivu**-kentässä.</span><span class="sxs-lookup"><span data-stu-id="f8892-222">When the note appears in the **My Notifications** window, choose the **Approval Entry: XX, XX** value in the **Page** field.</span></span> <span data-ttu-id="f8892-223">**Hyväksyttävät pyynnöt** -ikkuna avautuu siten, että Alician ostotilauspyyntö näkyy korostettuna.</span><span class="sxs-lookup"><span data-stu-id="f8892-223">The **Requests to Approve** window opens with Alicia’s request for the purchase order highlighted.</span></span>  
4.  <span data-ttu-id="f8892-224">Valitse **Hyväksyttävät pyynnöt**-ikkunan **Kotisivu**-välilehden **Käsittely**-ryhmässä **Hyväksy**.</span><span class="sxs-lookup"><span data-stu-id="f8892-224">In the **Requests to Approve** window, on the **Home** tab, in the **Process** group, choose **Approve**.</span></span>  

    <span data-ttu-id="f8892-225">Arvoksi **Tila**-kentässä Alician ostotilauksessa tulee **Vapautettu**.</span><span class="sxs-lookup"><span data-stu-id="f8892-225">The value in the **Status** field on Alicia’s purchase order changes to **Released**.</span></span>  

<span data-ttu-id="f8892-226">Olet nyt määrittänyt ja testannut yksinkertaisen hyväksymisen työnkulun, joka perustuu ostotilauksen hyväksymisen työnkulun kahteen ensimmäiseen vaiheeseen.</span><span class="sxs-lookup"><span data-stu-id="f8892-226">You have now set up and tested a simple approval workflow based on the first two steps of the Purchase Order Approval Workflow workflow.</span></span> <span data-ttu-id="f8892-227">Voit helposti laajentaa tämän työnkulun kirjaamaan Alician ostotilauksen automaattisesti, kun Sean hyväksyy sen.</span><span class="sxs-lookup"><span data-stu-id="f8892-227">You can easily extend this workflow to automatically post Alicia’s purchase order when Sean approves it.</span></span> <span data-ttu-id="f8892-228">Voidaksesi tehdä tämän, sinun on otettava käyttöön Ostolaskun työnkulku, johon vapautetun ostolaskun vastaus kirjataan.</span><span class="sxs-lookup"><span data-stu-id="f8892-228">To do this, you must enable the Purchase Invoice Workflow workflow, in which the response to a released purchase invoice is to post it.</span></span> <span data-ttu-id="f8892-229">Ensin sinun täytyy muuttaa työnkulun ensimmäisessä vaiheessa tapahtuman ehto (osto)**laskusta** **tilaukseksi**.</span><span class="sxs-lookup"><span data-stu-id="f8892-229">First you must change the event condition on the first workflow step from (purchase) **Invoice** to **Order**.</span></span>  

<span data-ttu-id="f8892-230">[!INCLUDE[d365fin](includes/d365fin_md.md)]in yleinen versio sisältää lukuisia työnkulkumalleja sovelluskoodin tukemiin tilanteisiin.</span><span class="sxs-lookup"><span data-stu-id="f8892-230">The generic version [!INCLUDE[d365fin](includes/d365fin_md.md)] includes a number of workflow templates for scenarios that are supported by the application code.</span></span> <span data-ttu-id="f8892-231">Useimmat näistä ovat hyväksynnän työnkulkuun.</span><span class="sxs-lookup"><span data-stu-id="f8892-231">Most of these are for approval workflows.</span></span> <span data-ttu-id="f8892-232">Lisätietoja on kohdassa Työnkulkumallit.</span><span class="sxs-lookup"><span data-stu-id="f8892-232">For more information, see Workflow Templates.</span></span>  

<span data-ttu-id="f8892-233">Työnkulun variaatiot määritetään täyttämällä työnkulkurivien kentät tapahtumien kiinteistä luetteloista ja vastausarvot, jotka edustavat sovelluskoodin tukemia skenaarioita.</span><span class="sxs-lookup"><span data-stu-id="f8892-233">You define variations of workflows by filling fields on workflow lines from fixed lists of event and response values representing scenarios that are supported by the application code.</span></span> <span data-ttu-id="f8892-234">Lisätietoja on kohdassa [Työnkulkujen luominen](across-how-to-create-workflows.md).</span><span class="sxs-lookup"><span data-stu-id="f8892-234">For more information, see [Create Workflows](across-how-to-create-workflows.md).</span></span>  

<span data-ttu-id="f8892-235">Jos liiketoimintaskenaario edellyttää työnkulun tapahtumaa tai vastausta, joka ei tueta, Microsoftin kumppanin on toteutettava se mukauttamalla sovelluksen koodia.</span><span class="sxs-lookup"><span data-stu-id="f8892-235">If a business scenario requires a workflow event or response that is not supported, a Microsoft partner must implement them by customizing the application code.</span></span> <span data-ttu-id="f8892-236">Lisätietoja on kehittäjien ja IT-ammattilaisten ohjeen kohdassa [Vaihekuvaus: Uusien työnkulun tapahtumien ja vastausten määrittäminen](/dynamics-nav/Walkthrough--Implementing-New-Workflow-Events-and-Responses).</span><span class="sxs-lookup"><span data-stu-id="f8892-236">For more information, see [Walkthrough: Implementing New Workflow Events and Responses](/dynamics-nav/Walkthrough--Implementing-New-Workflow-Events-and-Responses) in the developer and IT-pro help.</span></span>  

## <a name="see-also"></a><span data-ttu-id="f8892-237">Katso myös</span><span class="sxs-lookup"><span data-stu-id="f8892-237">See Also</span></span>  
<span data-ttu-id="f8892-238">[Hyväksynnän käyttäjien määrittäminen](across-how-to-set-up-approval-users.md) </span><span class="sxs-lookup"><span data-stu-id="f8892-238">[Set Up Approval Users](across-how-to-set-up-approval-users.md) </span></span>  
<span data-ttu-id="f8892-239">[Työnkulkuilmoitusten määrittäminen](across-setting-up-workflow-notifications.md) </span><span class="sxs-lookup"><span data-stu-id="f8892-239">[Setting Up Workflow Notifications](across-setting-up-workflow-notifications.md) </span></span>  
<span data-ttu-id="f8892-240">[Työnkulkujen luominen](across-how-to-create-workflows.md) </span><span class="sxs-lookup"><span data-stu-id="f8892-240">[Create Workflows](across-how-to-create-workflows.md) </span></span>  
<span data-ttu-id="f8892-241">[Hyväksymistyönkulkujen käyttäminen](across-how-use-approval-workflows.md) </span><span class="sxs-lookup"><span data-stu-id="f8892-241">[Use Approval Workflows](across-how-use-approval-workflows.md) </span></span>  
[<span data-ttu-id="f8892-242">Työnkulku</span><span class="sxs-lookup"><span data-stu-id="f8892-242">Workflow</span></span>](across-workflow.md)

