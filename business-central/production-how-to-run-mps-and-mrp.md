---
title: Kokonaisvaltaisen suunnittelun, tuotanto-ohjelman tai tarvelaskennan suorittaminen | Microsoft Docs
description: Suunnittelutyökirjan suorittaminen ja tarvelaskennan suorittaminen tarkoitetaan tuotanto-ohjelman ja materiaalitarpeen laskemista todellisen ja ennustetun tarpeen perusteella. Suunnittelujärjestelmä voi laskea tuotanto-ohjelman tai tarvelaskennan pyydettäessä, tai se voi laskea molemmat samanaikaisesti.
services: project-madeira
documentationcenter: ''
author: SorenGP
ms.service: dynamics365-business-central
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: ''
ms.date: 04/01/2019
ms.author: sgroespe
ms.openlocfilehash: bf64955898ddbdce539a2e68c2db07c2c6b8c575
ms.sourcegitcommit: 60b87e5eb32bb408dd65b9855c29159b1dfbfca8
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 04/29/2019
ms.locfileid: "1253077"
---
# <a name="run-full-planning-mps-or-mrp"></a><span data-ttu-id="3fc93-104">Kokonaisvaltaisen suunnittelun, tuotanto-ohjelman tai tarvelaskennan suorittaminen</span><span class="sxs-lookup"><span data-stu-id="3fc93-104">Run Full Planning, MPS or MRP</span></span>
<span data-ttu-id="3fc93-105">Suunnittelutyökirjan suorittaminen ja tarvelaskennan suorittaminen tarkoitetaan tuotanto-ohjelman ja materiaalitarpeen laskemista todellisen ja ennustetun tarpeen perusteella.</span><span class="sxs-lookup"><span data-stu-id="3fc93-105">The terms "running the planning worksheet" or "running MRP" refer to the calculation of the master production schedule and material requirements based on actual and forecasted demand.</span></span> <span data-ttu-id="3fc93-106">Suunnittelujärjestelmä voi laskea tuotanto-ohjelman tai tarvelaskennan pyydettäessä, tai se voi laskea molemmat samanaikaisesti.</span><span class="sxs-lookup"><span data-stu-id="3fc93-106">The planning system can calculate either Master Planning Schedule (MPS) or Material Requirements Planning (MRP) on request, or it can calculate both at the same time.</span></span>  

-   <span data-ttu-id="3fc93-107">Tuotanto-ohjelma tarkoittaa todelliseen tarpeeseen ja kysyntäennusteeseen perustuvaa tuotanto-ohjelman laskentaa.</span><span class="sxs-lookup"><span data-stu-id="3fc93-107">MPS is the calculation of a master production schedule based on actual demand and the demand forecast.</span></span> <span data-ttu-id="3fc93-108">Tuotanto-ohjelman laskenta tehdään lopullisille nimikkeille, joilla on ennuste ja/tai myyntitilauksen rivi.</span><span class="sxs-lookup"><span data-stu-id="3fc93-108">The MPS calculation is used for end items that have a forecast or a sales order line.</span></span> <span data-ttu-id="3fc93-109">Näitä nimikkeitä kutsutaan tuotanto-ohjelmanimikkeiksi, ja ne tunnistetaan dynaamisesti laskennan alkaessa.</span><span class="sxs-lookup"><span data-stu-id="3fc93-109">These items are called MPS items and are identified dynamically when the calculation starts.</span></span>  
-   <span data-ttu-id="3fc93-110">MRP tarkoittaa komponenttien todelliseen tarpeeseen ja komponenttitason kysyntäennusteeseen perustuvaa materiaalitarpeen laskentaa.</span><span class="sxs-lookup"><span data-stu-id="3fc93-110">MRP is the calculation of material requirements based on actual demand for components and the demand forecast on the component level.</span></span> <span data-ttu-id="3fc93-111">Tarvelaskenta tehdään vain nimikkeille, jotka eivät ole tuotanto-ohjelmanimikkeitä.</span><span class="sxs-lookup"><span data-stu-id="3fc93-111">MRP is calculated only for items that are not MPS items.</span></span> <span data-ttu-id="3fc93-112">Tuotanto-ohjelman yleistavoitteena on tuottaa aikavaiheistetut, viralliset nimikekohtaiset suunnitelmat, jotta oikeaa tuotetta voidaan toimittaa oikea nimike ja oikea määrä oikeaan aikaan ja oikeassa paikassa.</span><span class="sxs-lookup"><span data-stu-id="3fc93-112">The purpose of MRP is to provide time-phased formal plans, by item, to supply the appropriate item, at the appropriate time, in the appropriate location, in the appropriate quantity.</span></span>  

<span data-ttu-id="3fc93-113">Tuotanto-ohjelmassa ja tarvelaskennassa käytetään identtisiä suunnittelualgoritmeja.</span><span class="sxs-lookup"><span data-stu-id="3fc93-113">The planning algorithms used for both MPS and MRP are identical.</span></span> <span data-ttu-id="3fc93-114">Suunnittelualgoritmit liittyvät nettouttamiseen, aiempien täydennystilausten uudelleenkäyttöön ja toimenpideviesteihin.</span><span class="sxs-lookup"><span data-stu-id="3fc93-114">The planning algorithms pertain to netting, reuse of existing replenishment orders, and action messages.</span></span> <span data-ttu-id="3fc93-115">Suunnittelujärjestelmä selvittää, mitä nyt tai vastaisuudessa tarvitaan (kysyntä) sekä mitä on käsivarastossa ja mitä tulossa (tarjonta).</span><span class="sxs-lookup"><span data-stu-id="3fc93-115">The planning system process examines what is needed or will be needed (demand) and what is on-hand or expected (supply).</span></span> <span data-ttu-id="3fc93-116">Kun nämä määrät nettoutetaan, [!INCLUDE[d365fin](includes/d365fin_md.md)] näyttää toimenpideviestejä.</span><span class="sxs-lookup"><span data-stu-id="3fc93-116">When these quantities are netted against each other, [!INCLUDE[d365fin](includes/d365fin_md.md)] provides action messages.</span></span> <span data-ttu-id="3fc93-117">Toimenpideviestit ovat ehdotuksia, jotka kehottavat luomaan uuden tilauksen, muuttamaan tilausta (määrää tai päivämäärää) tai peruuttamaan jo tilauksessa olevan tilauksen.</span><span class="sxs-lookup"><span data-stu-id="3fc93-117">Action messages are suggestions to create a new order, change an order (quantity or date), or cancel an order already on order.</span></span> <span data-ttu-id="3fc93-118">Tilauksella tarkoitetaan ostotilauksia, kokoonpanotilauksia, tuotantotilauksia ja siirtotilauksia.</span><span class="sxs-lookup"><span data-stu-id="3fc93-118">The term "order" includes purchase orders, assembly orders, production orders, and transfer orders.</span></span>

<span data-ttu-id="3fc93-119">Suunnittelumoduulin kysynnän ja tarjonnan välille luodut linkit ja niihin liittyvää toimitusta voidaan seurata **Tilauksen seuranta** -sivu.</span><span class="sxs-lookup"><span data-stu-id="3fc93-119">Links created by the planning engine between demand and its related supply can be tracked on the **Order Tracking** page.</span></span> <span data-ttu-id="3fc93-120">Lisätietoja on kohdassa [Kysynnän ja tarjonnan välisten suhteiden seuranta](production-how-track-demand-supply.md).</span><span class="sxs-lookup"><span data-stu-id="3fc93-120">For more information, see [Track Relations Between Demand and Supply](production-how-track-demand-supply.md).</span></span>   

<span data-ttu-id="3fc93-121">Suunnitelmasta saadaan asianmukaisia tuloksia sen mukaan, kuinka nimikkeen kortit, tuotannon tuoterakenteet ja reititykset on määritetty.</span><span class="sxs-lookup"><span data-stu-id="3fc93-121">Proper planning results depend on the set up done on item cards, assembly BOMs, production BOMs, and routings.</span></span>  

## <a name="methods-for-generating-a-plan"></a><span data-ttu-id="3fc93-122">Suunnitelman luomismenetelmät</span><span class="sxs-lookup"><span data-stu-id="3fc93-122">Methods for Generating a Plan</span></span>  

-   <span data-ttu-id="3fc93-123">**Laske uudelleensuunnittelu:** Tämä toiminto käsittelee tai uudistaa materiaalisuunnitelman.</span><span class="sxs-lookup"><span data-stu-id="3fc93-123">**Calculate Regenerative Plan:** This function processes or regenerates the material plan.</span></span> <span data-ttu-id="3fc93-124">Prosessin aluksi kaikki ladatut suunnitellut toimitustilaukset poistetaan.</span><span class="sxs-lookup"><span data-stu-id="3fc93-124">This process starts by deleting all planned supply orders that are currently loaded.</span></span> <span data-ttu-id="3fc93-125">Tietokannan kaikki nimikkeet suunnitellaan uudelleen.</span><span class="sxs-lookup"><span data-stu-id="3fc93-125">All items in the database are replanned.</span></span>  
-   <span data-ttu-id="3fc93-126">**Laske nettomuutossuunnitelma**: Tämä toiminto käsittelee nettomuutossuunnitelman.</span><span class="sxs-lookup"><span data-stu-id="3fc93-126">**Calculate Net Change Plan**: This function processes a net change plan.</span></span> <span data-ttu-id="3fc93-127">Kun nimikkeitä käsitellään nettomuutossuunnitelmassa kahden tyyppisistä muutoksista:</span><span class="sxs-lookup"><span data-stu-id="3fc93-127">Items are considered in net change planning from two types of changes:</span></span>  
    - <span data-ttu-id="3fc93-128">**Kysynnän/tarjonnan muutokset:** Tällaisia muutoksia ovat myyntitilausten, kysyntäennusteiden, tuotantotilausten, kokoonpanotilausten ja ostotilausten määrien muutokset.</span><span class="sxs-lookup"><span data-stu-id="3fc93-128">**Demand/supply changes:** These include modifications to quantities on sales orders, demand forecasts, assembly orders, production orders, or purchase orders.</span></span> <span data-ttu-id="3fc93-129">Myös suunnittelematon varastotason muutos katsotaan määrän muutokseksi.</span><span class="sxs-lookup"><span data-stu-id="3fc93-129">An unplanned inventory level change is also considered a quantity change.</span></span>  
    - <span data-ttu-id="3fc93-130">**Suunnitteluparametrien muutokset**: Tällaisia muutoksia ovat varmuusvaraston, uusintatilauspisteen, reitityksen ja tuoterakenteen muutokset sekä aikavälin ja toimitusajan laskennan muutokset.</span><span class="sxs-lookup"><span data-stu-id="3fc93-130">**Planning parameter changes:** These include changes in safety stock, reorder point, routing, bill of material, and changes to the time bucket or lead time calculation.</span></span>  
-   <span data-ttu-id="3fc93-131">**Hae toimenpideviestit**: Tänä toiminto toimii lyhyen aikavälin suunnittelutyökaluna. Se tuottaa toimenpideviestejä, jotka ilmoittavat käyttäjälle edellisen uudelleensuunnittelun tai nettomuutossuunnittelun laskemisen jälkeen tehdyistä muutoksista.</span><span class="sxs-lookup"><span data-stu-id="3fc93-131">**Get Action Messages:** This function serves as a short-term planning tool by issuing action messages to alert the user of any modifications made since the last regenerative or net change plan was calculated.</span></span>  

<span data-ttu-id="3fc93-132">Jokaisen suunnitellun menetelmän kanssa, [!INCLUDE[d365fin](includes/d365fin_md.md)] luo työkirjatapahtumat olettaen, että kapasiteetti on ääretön.</span><span class="sxs-lookup"><span data-stu-id="3fc93-132">With each planned method, [!INCLUDE[d365fin](includes/d365fin_md.md)] generates worksheet entries assuming infinite capacity.</span></span> <span data-ttu-id="3fc93-133">Tuotantosolun ja kuormitusryhmän kapasiteettia ei huomioida laadittaessa aikatauluja.</span><span class="sxs-lookup"><span data-stu-id="3fc93-133">Work center and machine center capacity is not considered when you develop schedules.</span></span>  

> [!IMPORTANT]  
>  <span data-ttu-id="3fc93-134">Laske uudelleensuunnittelu -toiminto on yleisin prosessi.</span><span class="sxs-lookup"><span data-stu-id="3fc93-134">The Calculate Regenerative Plan function is the most common process.</span></span> <span data-ttu-id="3fc93-135">Suunnitelman laskennan ja toimenpideviestin toteuttamisen prosesseja voidaan kuitenkin käyttää Laske nettomuutossuunnitelma -toiminnon suorittamiseen.</span><span class="sxs-lookup"><span data-stu-id="3fc93-135">The Calculate Plan and Carry out Action Messages functions, however, can be used to run the Calculate Net Change Plan process.</span></span>  
>   
>  <span data-ttu-id="3fc93-136">Hae toimenpideviestit -suunnitelma voidaan suorittaa nettomuutossuunnittelu- ja uudelleensuunnitteluajojen välissä. Tällöin saadaan välitön käsitys aikataulumuutosten vaikutuksista. Tätä suunnitelmaa ei kuitenkaan ole tarkoitettu nettomuutossuunnittelun tai uudelleensuunnittelun korvaajaksi.</span><span class="sxs-lookup"><span data-stu-id="3fc93-136">The Get Action Messages Plan function can be run between regenerative and net change planning runs to obtain an immediate view of the effect of schedule changes, but it is not intended as a replacement of full regenerative or net change planning processes.</span></span>  

## <a name="to-calculate-the-planning-worksheet"></a><span data-ttu-id="3fc93-137">Suunnittelutyökirjan laskeminen</span><span class="sxs-lookup"><span data-stu-id="3fc93-137">To calculate the planning worksheet</span></span>  
1.  <span data-ttu-id="3fc93-138">Valitse ![Lamppu, joka avaa Kerro, mitä haluat tehdä -toiminnon](media/ui-search/search_small.png "Kerro, mitä haluat tehdä") -kuvake, syötä **Suunnittelutyökirjat** ja valitse sitten liittyvä linkki.</span><span class="sxs-lookup"><span data-stu-id="3fc93-138">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Planning Worksheets**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="3fc93-139">Avaa **Laske suunnitelma** -sivu valitsemalla **Laske uudelleensuunnittelu** -toiminto.</span><span class="sxs-lookup"><span data-stu-id="3fc93-139">Choose the **Calculate Regenerative Plan** action to open the **Calculate Plan** page.</span></span>  
3.  <span data-ttu-id="3fc93-140">Täytä **Vaihtoehdot**-pikavälilehden kentät seuraavassa taulukossa kuvatulla tavalla.</span><span class="sxs-lookup"><span data-stu-id="3fc93-140">On the **Options** FastTab, fill in the fields as described in the following table.</span></span>  

    |<span data-ttu-id="3fc93-141">Kenttä</span><span class="sxs-lookup"><span data-stu-id="3fc93-141">Field</span></span>|<span data-ttu-id="3fc93-142">Kuvaus</span><span class="sxs-lookup"><span data-stu-id="3fc93-142">Description</span></span>|  
    |---------------------------------|---------------------------------------|  
    |<span data-ttu-id="3fc93-143">**Tuotanto-ohjelma**</span><span class="sxs-lookup"><span data-stu-id="3fc93-143">**MPS**</span></span>|<span data-ttu-id="3fc93-144">Valitse tämä, jos haluat käynnistää tuotanto-ohjelman laskennan.</span><span class="sxs-lookup"><span data-stu-id="3fc93-144">Select to initiate the calculation of a master production schedule.</span></span> <span data-ttu-id="3fc93-145">Tässä ajossa otetaan huomioon nimikkeet, joilla on avoimia myyntitilauksia tai kysyntäennusteita.</span><span class="sxs-lookup"><span data-stu-id="3fc93-145">Items with open sales orders or demand forecasts are considered in this run.</span></span>|  
    |<span data-ttu-id="3fc93-146">**Tarvelaskenta**</span><span class="sxs-lookup"><span data-stu-id="3fc93-146">**MRP**</span></span>|<span data-ttu-id="3fc93-147">Valitse tämä, jos haluat käynnistää materiaalitarpeiden suunnittelun laskennan.</span><span class="sxs-lookup"><span data-stu-id="3fc93-147">Select to initiate the calculation of material requirements planning.</span></span> <span data-ttu-id="3fc93-148">Tässä ajossa otetaan huomioon nimikkeet, joilla on riippuvuusedellytyksiä.</span><span class="sxs-lookup"><span data-stu-id="3fc93-148">Items with dependent requirements are considered in this run.</span></span> <span data-ttu-id="3fc93-149">Yleensä tuotanto-ohjelma ja tarvelaskenta suoritetaan samanaikaisesti.</span><span class="sxs-lookup"><span data-stu-id="3fc93-149">Typically,  MPS and MRP are run at the same time.</span></span> <span data-ttu-id="3fc93-150">Tuotanto-ohjelman ja tarvelaskennan samanaikainen suorittaminen edellyttää, että **Yhdistetty tuot-ohj/tarvelask.** -valintaruutu on valittuna **Tuotannon asetukset** -sivun **Suunnittelu**-pikavälilehdessä.</span><span class="sxs-lookup"><span data-stu-id="3fc93-150">To run MPS and MRP at the same time, the **Combined MPS/MRP Calculation** field must be selected on the **Planning** FastTab on the **Manufacturing Setup** page.</span></span>|  
    |<span data-ttu-id="3fc93-151">**Aloituspvm**</span><span class="sxs-lookup"><span data-stu-id="3fc93-151">**Starting Date**</span></span>|<span data-ttu-id="3fc93-152">Varastosaatavuus arvioidaan tämän päivämäärän perusteella.</span><span class="sxs-lookup"><span data-stu-id="3fc93-152">This date is used to evaluate inventory availability.</span></span> <span data-ttu-id="3fc93-153">Jos nimikkeen käsivarastomäärä alittaa uusintatilauspisteen, järjestelmä aikatauluttaa täydennystilauksen ennakkotilauksena tämän päivämäärän perusteella.</span><span class="sxs-lookup"><span data-stu-id="3fc93-153">If an item's on-hand quantity is below the reorder point, the system forward-schedules a replenishment order from this date.</span></span> <span data-ttu-id="3fc93-154">Jos nimikkeen määrä alittaa varmuusvaraston määrän (aloituspäivänä), järjestelmä aikatauluttaa takautuvasti täydennystilauksen, jonka eräpäivä on sunnittelun aloituspäivämäärä.</span><span class="sxs-lookup"><span data-stu-id="3fc93-154">If an item is below its safety stock (as of the starting date), the system back-schedules a replenishment order due on the planning starting date.</span></span>|  
    |<span data-ttu-id="3fc93-155">**Lopetuspvm**</span><span class="sxs-lookup"><span data-stu-id="3fc93-155">**Ending Date**</span></span>|<span data-ttu-id="3fc93-156">Tämä on suunnitteluhorisontin päättymispäivämäärä.</span><span class="sxs-lookup"><span data-stu-id="3fc93-156">This is the ending date of the planning horizon.</span></span> <span data-ttu-id="3fc93-157">Kysyntää ja tarjontaa ei lasketa tätä päivämäärää edemmäs.</span><span class="sxs-lookup"><span data-stu-id="3fc93-157">Neither demand nor supply is considered after this date.</span></span> <span data-ttu-id="3fc93-158">Jos nimikkeen uusintatilausväli ulottuu lopetuspäivämäärän jälkeiselle ajalle, kyseisen nimikkeen suunnitteluhorisontin voimassaoloaika on Tilauspvm- ja Uusintatilausväli-arvojen summa.</span><span class="sxs-lookup"><span data-stu-id="3fc93-158">If the reorder cycle for an item extends beyond the ending date, the effective planning horizon for that item is equal to the order date + reorder cycle.</span></span><br /><br /> <span data-ttu-id="3fc93-159">Suunnitteluhorisontti tarkoittaa aikaa, jonka suunnitelma kattaa.</span><span class="sxs-lookup"><span data-stu-id="3fc93-159">The planning horizon is the time that the plan is extended to.</span></span> <span data-ttu-id="3fc93-160">Jos horisontti on liian lyhyt, pitkän toimitusajan nimikkeiden tilaukset myöhästyvät.</span><span class="sxs-lookup"><span data-stu-id="3fc93-160">If the horizon is too short, items with a longer lead time are not ordered on time.</span></span> <span data-ttu-id="3fc93-161">Jos horisontti on liian pitkä, sellaisia tietoja tarkistetaan ja käsitellään liian kauan, jotka todennäköisesti ehtivät muuttua, ennen kuin niitä tarvitaan.</span><span class="sxs-lookup"><span data-stu-id="3fc93-161">If the horizon is too long, too much time is spent reviewing and processing information that likely changes before it is needed.</span></span> <span data-ttu-id="3fc93-162">Tuotantoa varten voi määrittää toisen ja ostoja varten toisen, pidemmän suunnitteluhorisontin, vaikka tämä ei olekaan välttämätöntä.</span><span class="sxs-lookup"><span data-stu-id="3fc93-162">It is possible to set one planning horizon for production and a longer one for purchases, although it is not required.</span></span> <span data-ttu-id="3fc93-163">Ostojen ja tuotannon suunnitteluhorisontit täytyy määrittää siten, että ne kattavat komponenttien kumulatiivisen toimitusajan.</span><span class="sxs-lookup"><span data-stu-id="3fc93-163">A planning horizon for purchases and production should be set to cover the cumulative lead time for components.</span></span>|  
    |<span data-ttu-id="3fc93-164">**Pysäytä ja näytä ensimmäinen virhe**</span><span class="sxs-lookup"><span data-stu-id="3fc93-164">**Stop and Show First Error**</span></span>|<span data-ttu-id="3fc93-165">Valitse, jos haluat suunnitteluajon keskeytyvän heti, kun siinä ilmenee virhe.</span><span class="sxs-lookup"><span data-stu-id="3fc93-165">Select if you want the planning run to stop as soon as it encounters an error.</span></span> <span data-ttu-id="3fc93-166">Samalla näyttöön tulee sanoma, jossa on tietoja (ensimmäisestä) virheestä.</span><span class="sxs-lookup"><span data-stu-id="3fc93-166">At the same time, a message is displayed with information about the first error.</span></span> <span data-ttu-id="3fc93-167">Virhetilanteessa vain ennen virheen ilmenemistä tehdyt onnistuneet suunnittelurivit esitetään suunnittelutyökirjassa.</span><span class="sxs-lookup"><span data-stu-id="3fc93-167">If an error exists, only the successful planning lines made before the error was encountered will be presented in the planning worksheet.</span></span> <span data-ttu-id="3fc93-168">Jos et ole lisännyt valintamerkkiä tähän kenttään, **Laske suunnitelma** -eräajoa jatketaan mahdollisista virheistä huolimatta loppuun saakka.</span><span class="sxs-lookup"><span data-stu-id="3fc93-168">If you do not select this field, the **Calculate Plan** batch job will continue until it has completed, that is, errors will not interrupt the batch job.</span></span> <span data-ttu-id="3fc93-169">Jos virheitä ilmenee, ohjelma tuo eräajon jälkeen näkyviin sanoman, jossa ilmoitetaan virheiden vaikutusalueeseen kuuluvien nimikkeiden määrä.</span><span class="sxs-lookup"><span data-stu-id="3fc93-169">If one or more errors exist, a message will display after completion with information about how many items are affected.</span></span> <span data-ttu-id="3fc93-170">Jos virheitä ilmenee, ohjelma tuo eräajon jälkeen näkyviin sanoman, jossa ilmoitetaan virheiden vaikutusalueeseen kuuluvien nimikkeiden määrä. Näkyviin tulee sitten **Suunnittelun virheloki** -sivu, jossa on lisätietoja virheestä ja linkit virheen vaikutusalueeseen kuuluvien nimikkeiden kortteihin.</span><span class="sxs-lookup"><span data-stu-id="3fc93-170">The **Planning Error Log** page will then open to provide more details about the error and links to the affected item cards.</span></span>|  
    |<span data-ttu-id="3fc93-171">**Käytä ennustetta**</span><span class="sxs-lookup"><span data-stu-id="3fc93-171">**Use Forecast**</span></span>|<span data-ttu-id="3fc93-172">Valitse ennuste, jonka haluat ohjelman sisällyttävän kysyntään suunnittelueräajon yhteydessä.</span><span class="sxs-lookup"><span data-stu-id="3fc93-172">Select a forecast that should be included as demand when you run the planning batch job.</span></span> <span data-ttu-id="3fc93-173">Oletusennuste määritetään **Tuotannon asetukset** -sivun **Suunnittelu**-pikavälilehdessä.</span><span class="sxs-lookup"><span data-stu-id="3fc93-173">The default forecast is set up on the **Planning** FastTab on the **Manufacturing Setup** page.</span></span>|  
    |<span data-ttu-id="3fc93-174">**Sulje ennuste pois ennen**</span><span class="sxs-lookup"><span data-stu-id="3fc93-174">**Exclude Forecast Before**</span></span>|<span data-ttu-id="3fc93-175">Tässä kentässä voit määrittää, kuinka suuri valitun ennusteen osa suunnitteluajoon sisällytetään. Tämä tehdään lisäämällä päivämäärä, jota edeltävää ennustettua kysyntää ei oteta mukaan. Tällä tavoin voit jättää vanhat tiedot pois.</span><span class="sxs-lookup"><span data-stu-id="3fc93-175">Define how much of the selected forecast to include in the planning run by entering a date before which forecast demand is not included, thus allowing you to exclude old information.</span></span>|  
    |<span data-ttu-id="3fc93-176">**Noudata suunnitteluparametreja poikkeusvaroituksille**</span><span class="sxs-lookup"><span data-stu-id="3fc93-176">**Respect Planning Parameters for Exception Warnings**</span></span>|<span data-ttu-id="3fc93-177">Tämä kenttä on oletusarvoisesti piilotettuna.</span><span class="sxs-lookup"><span data-stu-id="3fc93-177">By default, this field is selected.</span></span><br /><br /> <span data-ttu-id="3fc93-178">Tarjontaa suunnitteluriveillä, joilla on varoituksia, ei yleensä muokata suunnitteluparametrien mukaan.</span><span class="sxs-lookup"><span data-stu-id="3fc93-178">Supply on planning lines with warnings is normally not modified according to planning parameters.</span></span> <span data-ttu-id="3fc93-179">Suunnittelujärjestelmä ehdottaa sen sijaan vain toimitusmäärää, joka kattaa kysyntämäärän täsmällisesti.</span><span class="sxs-lookup"><span data-stu-id="3fc93-179">Instead, the planning system only suggests a supply to cover the exact demand quantity.</span></span> <span data-ttu-id="3fc93-180">Voit kuitenkin määrittää suunnitteluriveille tiettyjä suunnitteluparametreja, joihin liittyy tiettyjä varoituksia.</span><span class="sxs-lookup"><span data-stu-id="3fc93-180">However, you can define certain planning parameters for planning lines to be respected with certain warnings.</span></span><br /><br />|  

4.  <span data-ttu-id="3fc93-181">**Nimike**-pikavälilehdessä voit suodattaa ja suorittaa suunnittelutoimia nimikkeen, nimikkeen kuvauksen tai sijainnin perusteella.</span><span class="sxs-lookup"><span data-stu-id="3fc93-181">On the **Item** FastTab, set filters to run the planning based on item, item description, or location.</span></span>  
5.  <span data-ttu-id="3fc93-182">Valitse **OK**-painike.</span><span class="sxs-lookup"><span data-stu-id="3fc93-182">Choose the **OK** button.</span></span> <span data-ttu-id="3fc93-183">Eräajo suoritetaan ja suunnittelurivit täytetään suunnittelutyökirjaan.</span><span class="sxs-lookup"><span data-stu-id="3fc93-183">The batch job runs and then the planning worksheet is populated with the planning lines.</span></span>  

## <a name="to-perform-action-messages"></a><span data-ttu-id="3fc93-184">Suorita toimenpideviestit</span><span class="sxs-lookup"><span data-stu-id="3fc93-184">To perform action messages</span></span>  
1.  <span data-ttu-id="3fc93-185">Valitse **Suunnittelutyökirja**-sivulla **Toteuta toimenpideviesti** -toiminto.</span><span class="sxs-lookup"><span data-stu-id="3fc93-185">On the **Planning Worksheet** page, choose the **Carry Out Action Message** action.</span></span>  
2.  <span data-ttu-id="3fc93-186">Määritä **Asetukset**-pikavälilehdessä, miten toimitukset luodaan.</span><span class="sxs-lookup"><span data-stu-id="3fc93-186">On the **Options** FastTab, specify how to create the supplies.</span></span> <span data-ttu-id="3fc93-187">Täytä tilikentät seuraavassa taulukossa kuvatulla tavalla.</span><span class="sxs-lookup"><span data-stu-id="3fc93-187">Fill in the fields as described in the following table.</span></span>  

    |<span data-ttu-id="3fc93-188">Kenttä</span><span class="sxs-lookup"><span data-stu-id="3fc93-188">Field</span></span>|<span data-ttu-id="3fc93-189">Kuvaus</span><span class="sxs-lookup"><span data-stu-id="3fc93-189">Description</span></span>|  
    |---------------------------------|---------------------------------------|  
    |<span data-ttu-id="3fc93-190">**Tuotantotilaus**</span><span class="sxs-lookup"><span data-stu-id="3fc93-190">**Production Order**</span></span>|<span data-ttu-id="3fc93-191">Määrittää, miten tuotantotilaukset luodaan.</span><span class="sxs-lookup"><span data-stu-id="3fc93-191">Specify how you want to create production orders.</span></span> <span data-ttu-id="3fc93-192">Nämä toimet voit tehdä suoraan suunnittelurivin ehdotuksista.</span><span class="sxs-lookup"><span data-stu-id="3fc93-192">You can do this directly from the planning line proposals.</span></span> <span data-ttu-id="3fc93-193">Voit luoda sekä suunniteltuja että sitovasti suunniteltuja tuotantotilauksia.</span><span class="sxs-lookup"><span data-stu-id="3fc93-193">You can create either planned or firm planned production orders.</span></span>|  
    |<span data-ttu-id="3fc93-194">**Kokoonpanotilaus**</span><span class="sxs-lookup"><span data-stu-id="3fc93-194">**Assembly Order**</span></span>|<span data-ttu-id="3fc93-195">Määrittää, miten kokoonpanotilaukset luodaan.</span><span class="sxs-lookup"><span data-stu-id="3fc93-195">Specify how you want to create assembly orders.</span></span> <span data-ttu-id="3fc93-196">Nämä toimet voit tehdä suoraan suunnittelurivin ehdotuksista.</span><span class="sxs-lookup"><span data-stu-id="3fc93-196">You can do this directly from the planning line proposals.</span></span>|  
    |<span data-ttu-id="3fc93-197">**Ostotilaus**</span><span class="sxs-lookup"><span data-stu-id="3fc93-197">**Purchase Order**</span></span>|<span data-ttu-id="3fc93-198">Määrittää, miten ostotilaukset luodaan.</span><span class="sxs-lookup"><span data-stu-id="3fc93-198">Specify how you want to create purchase orders.</span></span> <span data-ttu-id="3fc93-199">Nämä toimet voit tehdä suoraan suunnittelurivin ehdotuksista.</span><span class="sxs-lookup"><span data-stu-id="3fc93-199">You can do this directly from the planning line proposals.</span></span><br /><br /> <span data-ttu-id="3fc93-200">Jos olet valinnut kopioivasi suunnitteluriviehdotukset ostotilauksia varten hankintalistaan, valitse mallin ja työkirjan nimi.</span><span class="sxs-lookup"><span data-stu-id="3fc93-200">If you chose to copy the planning line proposals for purchase orders to the requisition worksheet, select the template and worksheet name.</span></span>|  
    |<span data-ttu-id="3fc93-201">**Siirtotilaus**</span><span class="sxs-lookup"><span data-stu-id="3fc93-201">**Transfer Order**</span></span>|<span data-ttu-id="3fc93-202">Määrittää, miten siirtotilaukset luodaan.</span><span class="sxs-lookup"><span data-stu-id="3fc93-202">Specify how you want to create transfer orders.</span></span> <span data-ttu-id="3fc93-203">Nämä toimet voit tehdä suoraan suunnittelurivin ehdotuksista.</span><span class="sxs-lookup"><span data-stu-id="3fc93-203">You can do this directly from the planning line proposals.</span></span><br /><br /> <span data-ttu-id="3fc93-204">Jos olet valinnut kopioivasi suunnitteluriviehdotukset siirtotilauksia varten hankintalistaan, valitse mallin ja työkirjan nimi.</span><span class="sxs-lookup"><span data-stu-id="3fc93-204">If you chose to copy the planning line proposals for transfer orders to the requisition worksheet, select the template and worksheet name.</span></span>|  
    |<span data-ttu-id="3fc93-205">**Yhdistä siirtotilaukset**</span><span class="sxs-lookup"><span data-stu-id="3fc93-205">**Combine Transfer Orders**</span></span>|<span data-ttu-id="3fc93-206">Valitse, jos haluat yhdistää siirtotilauksia.</span><span class="sxs-lookup"><span data-stu-id="3fc93-206">Select if you want to combine transfer orders.</span></span>|  
    |<span data-ttu-id="3fc93-207">**Pysäytä ja näytä ensimmäinen virhe**</span><span class="sxs-lookup"><span data-stu-id="3fc93-207">**Stop and Show First Error**</span></span>|<span data-ttu-id="3fc93-208">Valitse, jos haluat, että **Toteuta toim.pidviesti - Suun.** -erä-ajo pysähtyy heti, kun se havaitsee virheen.</span><span class="sxs-lookup"><span data-stu-id="3fc93-208">Select if you want the **Carry Out Action Msg. - Plan.** batch job to stop as soon as it encounters an error.</span></span> <span data-ttu-id="3fc93-209">Samalla näyttöön tulee sanoma, jossa on tietoja (ensimmäisestä) virheestä.</span><span class="sxs-lookup"><span data-stu-id="3fc93-209">At the same time, a message is displayed with information about the firsterror.</span></span> <span data-ttu-id="3fc93-210">Virhetilanteessa vain virhettä ennen käsitellyistä suunnitteluriveistä luodaan toimitustilauksia.</span><span class="sxs-lookup"><span data-stu-id="3fc93-210">If an error exists, only the planning lines processed before the error was encountered will create supply orders.</span></span>|  

3.  <span data-ttu-id="3fc93-211">**Suunnittelurivi**-pikavälilehdessä voit määrittää toimenpideviestien luomista rajoittavia suodattimia.</span><span class="sxs-lookup"><span data-stu-id="3fc93-211">On the **Planning Line** FastTab, you can set filters to limit the perform action messages.</span></span>  
4.  <span data-ttu-id="3fc93-212">Valitse **OK**-painike.</span><span class="sxs-lookup"><span data-stu-id="3fc93-212">Choose the **OK** button.</span></span>  

<span data-ttu-id="3fc93-213">Eräajo poistaa työkirjan rivit toimenpideviestin suorittamisen jälkeen.</span><span class="sxs-lookup"><span data-stu-id="3fc93-213">The batch job deletes the lines in the planning worksheet after it has performed the action message.</span></span> <span data-ttu-id="3fc93-214">Muut rivit jäävät suunnittelutyökirjaan, kunnes ne joko hyväksytään myöhemmin tai muuten poistetaan.</span><span class="sxs-lookup"><span data-stu-id="3fc93-214">The other lines remain in the planning worksheet until they are either accepted at a later date or else deleted.</span></span> <span data-ttu-id="3fc93-215">Rivit voi poistaa myös manuaalisesti.</span><span class="sxs-lookup"><span data-stu-id="3fc93-215">You can also delete the lines manually.</span></span>  

## <a name="action-messages"></a><span data-ttu-id="3fc93-216">Toimenpideviestit</span><span class="sxs-lookup"><span data-stu-id="3fc93-216">Action Messages</span></span>  
<span data-ttu-id="3fc93-217">Tilausten seurantajärjestelmä tuottaa toimenpideviestejä, kun nykyisessä tilausverkossa ei päästä tasapainoon.</span><span class="sxs-lookup"><span data-stu-id="3fc93-217">Action messages are issued by the order tracking system when balance is unattainable in the existing order network.</span></span> <span data-ttu-id="3fc93-218">Ne ovat sellaisiin muutoksiin kehottavia ehdotuksia, jotka tasapainottavat kysynnän ja tarjonnan uudelleen.</span><span class="sxs-lookup"><span data-stu-id="3fc93-218">They can be viewed as a suggestion for you to process changes that reestablish equilibrium between supply and demand.</span></span>  

<span data-ttu-id="3fc93-219">Toimenpideviestejä luodaan taso kerrallaan kunkin nimikkeen alatason koodin mukaan.</span><span class="sxs-lookup"><span data-stu-id="3fc93-219">The generation of action messages occurs one level at a time, for each item's low-level code.</span></span> <span data-ttu-id="3fc93-220">Näin varmistetaan, että kaikki nimikkeet, joiden kysyntään tai tarjontaan on tullut tai tulee muutoksia, otetaan huomioon.</span><span class="sxs-lookup"><span data-stu-id="3fc93-220">This makes sure that all items that experience or will experience changes in supply or demand are considered.</span></span>  

<span data-ttu-id="3fc93-221">Pieniltä, tarpeettomilta tai merkityksettömiltä toimenpideviesteiltä voidaan välttyä käyttämällä toimenpideviestien luomista rajoittavia vaimentimia. Niitä käytettäessä vain sellaiset muutokset aiheuttavat toimenpideviestin, jotka ylittävät määritetyn määrän tai määritetyn päivien määrän.</span><span class="sxs-lookup"><span data-stu-id="3fc93-221">To avoid small, superfluous, or unimportant action messages, the user can establish dampeners, which serve to restrict the generation of action messages to only those changes that exceed the defined quantity or number of days.</span></span>  

<span data-ttu-id="3fc93-222">Kun toimenpideviestit on käyty läpi ja ehdotetut muutokset on päätetty hyväksyä osittain tai kokonaan (lisäämällä valintamerkki **Hyväksy toimenpideviesti** -kenttään tai poistamalla valintamerkki kentästä), voit tehdä aikatauluun päivitykset.</span><span class="sxs-lookup"><span data-stu-id="3fc93-222">After you have reviewed the action messages and determined whether to accept some or all of the suggested changes, select the **Accept Action Message** field, and then you are ready to update the schedules accordingly.</span></span>  

> [!NOTE]  
>  <span data-ttu-id="3fc93-223">Toimenpideviesti on ehdotus, joka kehottaa luomaan uuden tilauksen, peruuttamaan tilauksen tai muuttamaan tilauksen määrää tai päivämäärää.</span><span class="sxs-lookup"><span data-stu-id="3fc93-223">An action message is a suggestion to create a new order, cancel an order, or change the quantity or date of an order.</span></span> <span data-ttu-id="3fc93-224">Tilaus voi olla ostotilaus, siirtotilaus tai tuotantotilaus.</span><span class="sxs-lookup"><span data-stu-id="3fc93-224">An order is a purchase order, transfer order, or production order.</span></span>  

<span data-ttu-id="3fc93-225">Ohjelma luo seuraavia toimenpideviestejä, jos kysyntä ja tarjonta menevät epätasapainoon:</span><span class="sxs-lookup"><span data-stu-id="3fc93-225">In response to any supply/demand imbalances, the following action messages are generated.</span></span>  

|<span data-ttu-id="3fc93-226">Toimenpideviesti</span><span class="sxs-lookup"><span data-stu-id="3fc93-226">Action Message</span></span>|<span data-ttu-id="3fc93-227">Kuvaus</span><span class="sxs-lookup"><span data-stu-id="3fc93-227">Description</span></span>|  
|--------------------|---------------------------------------|  
|<span data-ttu-id="3fc93-228">**Uusi**</span><span class="sxs-lookup"><span data-stu-id="3fc93-228">**New**</span></span>|<span data-ttu-id="3fc93-229">Jos olemassa olevia tilauksia koskevien toimenpideviestien **Muuta määrä**, **Aikataul. uud.** tai **Aikataul. uud. ja Muuta määrä** ehdotukset eivät riitä täyttämään kysyntää, järjestelmä luo uuteen tilaukseen kehottavan toimenpideviestin **Uusi**.</span><span class="sxs-lookup"><span data-stu-id="3fc93-229">If a demand cannot be fulfilled by suggesting action messages to **Change Qty.**, **Reschedule**, or **Reschedule & Change Qty.** on existing orders, the action message **New** is generated, which suggests a new order.</span></span> <span data-ttu-id="3fc93-230">Järjestelmä luo toimenpideviestin **Uusi** myös, jos kyseisen nimikkeen uusintatilausvälissä ei ole toimitustilauksia.</span><span class="sxs-lookup"><span data-stu-id="3fc93-230">In addition, the message **New** is generated if there are no existing supply orders in the reorder cycle of the item in question.</span></span> <span data-ttu-id="3fc93-231">Tämä parametri määrittää saatavuusprofiilin jaksojen määrän eteen- ja taaksepäin, kun uudelleen aikataulutettavaa tilausta etsitään.</span><span class="sxs-lookup"><span data-stu-id="3fc93-231">This parameter determines the number of periods forward and backward in the availability profile when it searches for an order to reschedule.</span></span>|  
|<span data-ttu-id="3fc93-232">**Muuta määrä**</span><span class="sxs-lookup"><span data-stu-id="3fc93-232">**Change Quantity**</span></span>|<span data-ttu-id="3fc93-233">Kun määrä muuttuu toimitustilauksiin seurattavassa kysynnässä, järjestelmää luo toimenpideviestin **Muuta määrä**. Se merkitsee, että asiaankuuluvaa tarjontaa täytyy muuttaa suhteessa kysynnässä tapahtuneeseen muutokseen.</span><span class="sxs-lookup"><span data-stu-id="3fc93-233">When demand that is tracked to a supply order experiences a quantity change, the action message **Change Qty.** is generated, which indicates that the related supply should be changed relative to the change in demand.</span></span> <span data-ttu-id="3fc93-234">Jos uutta kysyntää ilmenee, [!INCLUDE[d365fin](includes/d365fin_md.md)] etsii uusintatilausvälin lähimmän varaamattoman tuotantotilauksen ja luo kyseistä tilausta koskevan, muutokseen kehottavan toimenpideviestin.</span><span class="sxs-lookup"><span data-stu-id="3fc93-234">If a new demand emerges, [!INCLUDE[d365fin](includes/d365fin_md.md)] searches for the nearest existing unreserved supply order in the reorder cycle, and issues a change of action message for that order.</span></span>|  
|<span data-ttu-id="3fc93-235">**Aikataul. uud.**</span><span class="sxs-lookup"><span data-stu-id="3fc93-235">**Reschedule**</span></span>|<span data-ttu-id="3fc93-236">Kun tarjonta- tai kysyntätilauksessa tapahtuva päivämäärämuutos aiheuttaa epätasapainon tilausverkossa, järjestelmä antaa toimenpideviestin **Aikatauluta uud**.</span><span class="sxs-lookup"><span data-stu-id="3fc93-236">When a supply or demand order experiences a date modification causing an imbalance in the order network, the action message **Reschedule** is generated.</span></span> <span data-ttu-id="3fc93-237">Jos kysynnän ja tarjonnan suhde on 1:1, järjestelmä antaa toimitustilauksen siirtämistä koskevan toimenpideviestin.</span><span class="sxs-lookup"><span data-stu-id="3fc93-237">If there is a one-to-one relationship between demand and supply, an action message is generated suggesting that the supply order be moved accordingly.</span></span> <span data-ttu-id="3fc93-238">Jos toimitustilaus kattaa usean myyntitilauksen kysynnän, toimitustilaus aikataulutetaan uudelleen ensimmäisen kysynnän päivämäärän mukaiseksi.</span><span class="sxs-lookup"><span data-stu-id="3fc93-238">If the supply-order covers demand from more than one sales order, the supply order is re-scheduled equal to the date of the first demand.</span></span>|  
|<span data-ttu-id="3fc93-239">**Aikataul. uud. & Muuta määrä**</span><span class="sxs-lookup"><span data-stu-id="3fc93-239">**Resch. & Chg. Qty.**</span></span>|<span data-ttu-id="3fc93-240">Jos sekä päivämääriä että määriä on muutettu tilauksessa, suunnitelmia täytyy muuttaa molemmat osatekijät huomioon ottaen.</span><span class="sxs-lookup"><span data-stu-id="3fc93-240">If both the dates and quantities of an order have been modified, you must change plans with regard to both circumstances.</span></span> <span data-ttu-id="3fc93-241">Toimenpiteitä ehdotetaan yhteisessä toimenpideviestissä **Aikatauluta uud. ja Muuta määrä**, jotta tilausverkko saadaan takaisin tasapainoon.</span><span class="sxs-lookup"><span data-stu-id="3fc93-241">Action messaging gathers both actions in one message, **Resched. and Chg. Qty.**, to ensure that the order network returns to balance.</span></span>|  
|<span data-ttu-id="3fc93-242">**Peruuta**</span><span class="sxs-lookup"><span data-stu-id="3fc93-242">**Cancel**</span></span>|<span data-ttu-id="3fc93-243">Jos sellainen kysyntä poistetaan, johon on vastattu tilauskohtaisesti, järjestelmä antaa asianmukaisten toimitustilausten peruuttamiseen kehottavan toimenpideviestin.</span><span class="sxs-lookup"><span data-stu-id="3fc93-243">If a demand, which has been covered on an order-to-order basis, is deleted, an action message is generated to cancel the related supply order.</span></span> <span data-ttu-id="3fc93-244">Jos suhde ei ole tilauskohtainen, järjestelmä luo muutokseen kehottavan toimenpideviestin kysynnän vähentämiseksi.</span><span class="sxs-lookup"><span data-stu-id="3fc93-244">If the relationship is not order-to-order, an action message is generated to change in order to reduce the supply.</span></span> <span data-ttu-id="3fc93-245">Jos muut tekijät, kuten varastonmuutokset, aiheuttavat sen, että tuotantotilausta ei tarvita, kun käyttäjä luo toimenpideviestejä, [!INCLUDE[d365fin](includes/d365fin_md.md)] ehdottaa työkirjassa toimenpideviestiä **Peruuta**.</span><span class="sxs-lookup"><span data-stu-id="3fc93-245">If through other factors, such as inventory adjustments, a supply order is not required at the time the action messages are generated by the user, [!INCLUDE[d365fin](includes/d365fin_md.md)] suggests an action message of **Cancel** in the worksheet.</span></span>|  

## <a name="see-also"></a><span data-ttu-id="3fc93-246">Katso myös</span><span class="sxs-lookup"><span data-stu-id="3fc93-246">See Also</span></span>  
[<span data-ttu-id="3fc93-247">Suunnittelu</span><span class="sxs-lookup"><span data-stu-id="3fc93-247">Planning</span></span>](production-planning.md)  
[<span data-ttu-id="3fc93-248">Tuotannon määrittäminen</span><span class="sxs-lookup"><span data-stu-id="3fc93-248">Setting Up Manufacturing</span></span>](production-configure-production-processes.md)  
<span data-ttu-id="3fc93-249">[Tuotanto](production-manage-manufacturing.md)  </span><span class="sxs-lookup"><span data-stu-id="3fc93-249">[Manufacturing](production-manage-manufacturing.md)  </span></span>  
[<span data-ttu-id="3fc93-250">Vaihto-omaisuus</span><span class="sxs-lookup"><span data-stu-id="3fc93-250">Inventory</span></span>](inventory-manage-inventory.md)  
[<span data-ttu-id="3fc93-251">Osto</span><span class="sxs-lookup"><span data-stu-id="3fc93-251">Purchasing</span></span>](purchasing-manage-purchasing.md)  
<span data-ttu-id="3fc93-252">[Rakennetiedot: Toimitusten suunnittelu](design-details-supply-planning.md) </span><span class="sxs-lookup"><span data-stu-id="3fc93-252">[Design Details: Supply Planning](design-details-supply-planning.md) </span></span>  
[<span data-ttu-id="3fc93-253">Parhaiden käytäntöjen määrittäminen: Toimitusten suunnittelu</span><span class="sxs-lookup"><span data-stu-id="3fc93-253">Setup Best Practices: Supply Planning</span></span>](setup-best-practices-supply-planning.md)  
<span data-ttu-id="3fc93-254">[[!INCLUDE[d365fin](includes/d365fin_md.md)] -ohjelman käyttäminen](ui-work-product.md)</span><span class="sxs-lookup"><span data-stu-id="3fc93-254">[Working with [!INCLUDE[d365fin](includes/d365fin_md.md)]](ui-work-product.md)</span></span>
